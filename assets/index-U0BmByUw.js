(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function yE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function VA(){if(b_)return Ul;b_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var T_;function jA(){return T_||(T_=1,cm.exports=VA()),cm.exports}var v=jA(),hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function UA(){if(w_)return Re;w_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function V(O,ie,ue){this.props=O,this.context=ie,this.refs=Q,this.updater=ue||N}V.prototype.isReactComponent={},V.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function L(){}L.prototype=V.prototype;function J(O,ie,ue){this.props=O,this.context=ie,this.refs=Q,this.updater=ue||N}var W=J.prototype=new L;W.constructor=J,P(W,V.prototype),W.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function D(O,ie,ue,se,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:O,key:ie,ref:ue!==void 0?ue:null,props:Ce}}function R(O,ie){return D(O.type,ie,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function k(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return ie[ue]})}var j=/\/+/g;function U(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):ie.toString(36)}function C(){}function Lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,ie,ue,se,ye){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case E:return we=O._init,ut(we(O._payload),ie,ue,se,ye)}}if(we)return ye=ye(O),we=se===""?"."+U(O,0):se,re(ye)?(ue="",we!=null&&(ue=we.replace(j,"$&/")+"/"),ut(ye,ie,ue,"",function(er){return er})):ye!=null&&(x(ye)&&(ye=R(ye,ue+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(j,"$&/")+"/")+we)),ie.push(ye)),1;we=0;var Dt=se===""?".":se+":";if(re(O))for(var Je=0;Je<O.length;Je++)se=O[Je],Ce=Dt+U(se,Je),we+=ut(se,ie,ue,Ce,ye);else if(Je=S(O),typeof Je=="function")for(O=Je.call(O),Je=0;!(se=O.next()).done;)se=se.value,Ce=Dt+U(se,Je++),we+=ut(se,ie,ue,Ce,ye);else if(Ce==="object"){if(typeof O.then=="function")return ut(Lt(O),ie,ue,se,ye);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(O,ie,ue){if(O==null)return O;var se=[],ye=0;return ut(O,se,"","",function(Ce){return ie.call(ue,Ce,ye++)}),se}function le(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return Re.Children={map:$,forEach:function(O,ie,ue){$(O,function(){ie.apply(this,arguments)},ue)},count:function(O){var ie=0;return $(O,function(){ie++}),ie},toArray:function(O){return $(O,function(ie){return ie})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=V,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=J,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ae.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ie,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=P({},O.props),ye=O.key,Ce=void 0;if(ie!=null)for(we in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!me.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(se[we]=ie[we]);var we=arguments.length-2;if(we===1)se.children=ue;else if(1<we){for(var Dt=Array(we),Je=0;Je<we;Je++)Dt[Je]=arguments[Je+2];se.children=Dt}return D(O.type,ye,void 0,void 0,Ce,se)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ie,ue){var se,ye={},Ce=null;if(ie!=null)for(se in ie.key!==void 0&&(Ce=""+ie.key),ie)me.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ie[se]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var Dt=Array(we),Je=0;Je<we;Je++)Dt[Je]=arguments[Je+2];ye.children=Dt}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ye[se]===void 0&&(ye[se]=we[se]);return D(O,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=x,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:le}},Re.memo=function(O,ie){return{$$typeof:g,type:O,compare:ie===void 0?null:ie}},Re.startTransition=function(O){var ie=ae.T,ue={};ae.T=ue;try{var se=O(),ye=ae.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,pe)}catch(Ce){pe(Ce)}finally{ae.T=ie}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(O){return ae.H.use(O)},Re.useActionState=function(O,ie,ue){return ae.H.useActionState(O,ie,ue)},Re.useCallback=function(O,ie){return ae.H.useCallback(O,ie)},Re.useContext=function(O){return ae.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ie){return ae.H.useDeferredValue(O,ie)},Re.useEffect=function(O,ie,ue){var se=ae.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,ie)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(O,ie,ue){return ae.H.useImperativeHandle(O,ie,ue)},Re.useInsertionEffect=function(O,ie){return ae.H.useInsertionEffect(O,ie)},Re.useLayoutEffect=function(O,ie){return ae.H.useLayoutEffect(O,ie)},Re.useMemo=function(O,ie){return ae.H.useMemo(O,ie)},Re.useOptimistic=function(O,ie){return ae.H.useOptimistic(O,ie)},Re.useReducer=function(O,ie,ue){return ae.H.useReducer(O,ie,ue)},Re.useRef=function(O){return ae.H.useRef(O)},Re.useState=function(O){return ae.H.useState(O)},Re.useSyncExternalStore=function(O,ie,ue){return ae.H.useSyncExternalStore(O,ie,ue)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.0",Re}var A_;function ap(){return A_||(A_=1,hm.exports=UA()),hm.exports}var B=ap();const LA=yE(B);var fm={exports:{}},Ll={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function zA(){return S_||(S_=1,function(i){function e($,le){var pe=$.length;$.push(le);e:for(;0<pe;){var ze=pe-1>>>1,O=$[ze];if(0<o(O,le))$[ze]=le,$[pe]=O,pe=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],pe=$.pop();if(pe!==le){$[0]=pe;e:for(var ze=0,O=$.length,ie=O>>>1;ze<ie;){var ue=2*(ze+1)-1,se=$[ue],ye=ue+1,Ce=$[ye];if(0>o(se,pe))ye<O&&0>o(Ce,se)?($[ze]=Ce,$[ye]=pe,ze=ye):($[ze]=se,$[ue]=pe,ze=ue);else if(ye<O&&0>o(Ce,pe))$[ze]=Ce,$[ye]=pe,ze=ye;else break e}}return le}function o($,le){var pe=$.sortIndex-le.sortIndex;return pe!==0?pe:$.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,S=3,N=!1,P=!1,Q=!1,V=!1,L=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function re($){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=$)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function ae($){if(Q=!1,re($),!P)if(n(p)!==null)P=!0,me||(me=!0,U());else{var le=n(g);le!==null&&ut(ae,le.startTime-$)}}var me=!1,D=-1,R=5,x=-1;function k(){return V?!0:!(i.unstable_now()-x<R)}function j(){if(V=!1,me){var $=i.unstable_now();x=$;var le=!0;try{e:{P=!1,Q&&(Q=!1,J(D),D=-1),N=!0;var pe=S;try{t:{for(re($),T=n(p);T!==null&&!(T.expirationTime>$&&k());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,S=T.priorityLevel;var O=ze(T.expirationTime<=$);if($=i.unstable_now(),typeof O=="function"){T.callback=O,re($),le=!0;break t}T===n(p)&&s(p),re($)}else s(p);T=n(p)}if(T!==null)le=!0;else{var ie=n(g);ie!==null&&ut(ae,ie.startTime-$),le=!1}}break e}finally{T=null,S=pe,N=!1}le=void 0}}finally{le?U():me=!1}}}var U;if(typeof W=="function")U=function(){W(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Lt=C.port2;C.port1.onmessage=j,U=function(){Lt.postMessage(null)}}else U=function(){L(j,0)};function ut($,le){D=L(function(){$(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var pe=S;S=le;try{return $()}finally{S=pe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=S;S=$;try{return le()}finally{S=pe}},i.unstable_scheduleCallback=function($,le,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,$={id:E++,callback:le,priorityLevel:$,startTime:pe,expirationTime:O,sortIndex:-1},pe>ze?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(Q?(J(D),D=-1):Q=!0,ut(ae,pe-ze))):($.sortIndex=O,e(p,$),P||N||(P=!0,me||(me=!0,U()))),$},i.unstable_shouldYield=k,i.unstable_wrapCallback=function($){var le=S;return function(){var pe=S;S=le;try{return $.apply(this,arguments)}finally{S=pe}}}}(mm)),mm}var R_;function BA(){return R_||(R_=1,dm.exports=zA()),dm.exports}var pm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function qA(){if(x_)return Xt;x_=1;var i=ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var I_;function HA(){if(I_)return pm.exports;I_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=qA(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function FA(){if(C_)return Ll;C_=1;var i=BA(),e=ap(),n=HA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var b=!1,w=h.child;w;){if(w===a){b=!0,a=h,l=d;break}if(w===l){b=!0,l=h,a=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===a){b=!0,a=d,l=h;break}if(w===l){b=!0,l=d,a=h;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case V:return"Profiler";case Q:return"StrictMode";case ae:return"Suspense";case me:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case W:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:Lt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Lt(t(r))}catch{}}return null}var ut=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function ie(t){return{current:t}}function ue(t){0>O||(t.current=ze[O],ze[O]=null,O--)}function se(t,r){O++,ze[O]=t.current,t.current=r}var ye=ie(null),Ce=ie(null),we=ie(null),Dt=ie(null);function Je(t,r){switch(se(we,r),se(Ce,t),se(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?$v(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=$v(r),t=Xv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),se(ye,t)}function er(){ue(ye),ue(Ce),ue(we)}function hi(t){t.memoizedState!==null&&se(Dt,t);var r=ye.current,a=Xv(r,t.type);r!==a&&(se(Ce,t),se(ye,a))}function Ir(t){Ce.current===t&&(ue(ye),ue(Ce)),Dt.current===t&&(ue(Dt),Pl._currentValue=pe)}var cs=Object.prototype.hasOwnProperty,hs=i.unstable_scheduleCallback,fs=i.unstable_cancelCallback,No=i.unstable_shouldYield,Su=i.unstable_requestPaint,An=i.unstable_now,cf=i.unstable_getCurrentPriorityLevel,Do=i.unstable_ImmediatePriority,ca=i.unstable_UserBlockingPriority,ds=i.unstable_NormalPriority,hf=i.unstable_LowPriority,ha=i.unstable_IdlePriority,Oo=i.log,Ru=i.unstable_setDisableYieldValue,ct=null,Fe=null;function mn(t){if(typeof Oo=="function"&&Ru(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ct,t)}catch{}}var Yt=Math.clz32?Math.clz32:ms,xu=Math.log,ff=Math.LN2;function ms(t){return t>>>=0,t===0?32:31-(xu(t)/ff|0)|0}var ps=256,gs=4194304;function zn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=zn(l):(b&=w,b!==0?h=zn(b):a||(a=w&~t,a!==0&&(h=zn(a))))):(w=l&~d,w!==0?h=zn(w):b!==0?h=zn(b):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ys(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Po(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var t=ps;return ps<<=1,(ps&4194048)===0&&(ps=256),t}function Mo(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Cr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Nr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vo(t,r,a,l,h,d){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=b&~a;0<a;){var X=31-Yt(a),ee=1<<X;w[X]=0,I[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(b&~r))}function tr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function jo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Yt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function fi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function di(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:p_(t.type))}function Iu(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var rt=Math.random().toString(36).slice(2),wt="__reactFiber$"+rt,yt="__reactProps$"+rt,Sn="__reactContainer$"+rt,Uo="__reactEvents$"+rt,df="__reactListeners$"+rt,mi="__reactHandles$"+rt,Cu="__reactResources$"+rt,vs="__reactMarker$"+rt;function pi(t){delete t[wt],delete t[yt],delete t[Uo],delete t[df],delete t[mi]}function Dr(t){var r=t[wt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Sn]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=e_(t);t!==null;){if(a=t[wt])return a;t=e_(t)}return r}t=a,a=t.parentNode}return null}function nr(t){if(t=t[wt]||t[Sn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function rr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function tn(t){var r=t[Cu];return r||(r=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[vs]=!0}var Lo=new Set,ma={};function Bn(t,r){Or(t,r),Or(t+"Capture",r)}function Or(t,r){for(ma[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},_s={};function Ou(t){return cs.call(_s,t)?!0:cs.call(Du,t)?!1:Nu.test(t)?_s[t]=!0:(Du[t]=!0,!1)}function gi(t,r,a){if(Ou(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ir(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function zt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Es,Pu;function Pr(t){if(Es===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Es=r&&r[1]||"",Pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+Pu}var pa=!1;function ga(t,r){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){G=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var I=b.split(`
`),F=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pr(a):""}function zo(t){switch(t.tag){case 26:case 27:case 5:return Pr(t.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return Pr("Activity");default:return""}}function ya(t){try{var r="";do r+=zo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(t){var r=Bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function va(t){t._valueTracker||(t._valueTracker=mf(t))}function qo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pf=/[\n"\\]/g;function vt(t){return t.replace(pf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(t,r,a,l,h,d,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?yi(t,b,nn(r)):a!=null?yi(t,b,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+nn(w):t.removeAttribute("name")}function Ts(t,r,a,l,h,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function yi(t,r,a){r==="number"&&bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function ws(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||As.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Ho(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&ku(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&ku(t,d,r[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mr=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,jr=null;function Go(t){var r=nr(t);if(r&&(t=r.stateNode)){var a=t[yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(pn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&qo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var sr=!1;function Mu(t,r,a){if(sr)return t(r,a);sr=!0;try{var l=t(r);return l}finally{if(sr=!1,(Vr!==null||jr!==null)&&(Ic(),Vr&&(r=Vr,t=jr,jr=Vr=null,Go(r),t)))for(r=0;r<t.length;r++)Go(t[r])}}function Ss(t,r){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(qn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){In=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{In=!1}var ar=null,vi=null,Ur=null;function Ko(){if(Ur)return Ur;var t,r=vi,a=r.length,l,h="value"in ar?ar.value:ar.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[d-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function or(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function Qo(){return!1}function Ot(t){function r(a,l,h,d,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:Qo,this.isPropagationStopped=Qo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Ot(qe),xs=E({},qe,{view:0,detail:0}),Vu=Ot(xs),ba,Ta,ur,Is=E({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(ba=t.screenX-ur.screenX,Ta=t.screenY-ur.screenY):Ta=ba=0,ur=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Cn=Ot(Is),ju=E({},Is,{dataTransfer:0}),vf=Ot(ju),Cs=E({},xs,{relatedTarget:0}),wa=Ot(Cs),Yo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Ot(Yo),Uu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=Ot(Uu),_f=E({},qe,{data:0}),$o=Ot(_f),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zu[t])?!!r[t]:!1}function Ds(){return Xo}var Bu=E({},xs,{key:function(t){if(t.key){var r=Ns[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ra=Ot(Bu),qu=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ot(qu),Lr=E({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Hu=Ot(Lr),Fu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Ot(Fu),Ku=E({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ot(Ku),rn=E({},qe,{newState:0,oldState:0}),Qu=Ot(rn),Yu=[9,13,27,32],cr=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,_=qn&&(!cr||c&&8<c&&11>=c),A=" ",q=!1;function Y(t,r){switch(t){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function At(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(q=!0,A);case"textInput":return t=r.data,t===A&&q?null:t;default:return null}}function Ve(t,r){if(Me)return t==="compositionend"||!cr&&Y(t,r)?(t=Ko(),Ur=vi=ar=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function zr(t,r,a,l){Vr?jr?jr.push(l):jr=[l]:Vr=l,r=kc(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Bt=null,hr=null;function Zo(t){Fv(t,0)}function $u(t){var r=rr(t);if(qo(r))return t}function hg(t,r){if(t==="change")return r}var fg=!1;if(qn){var Ef;if(qn){var bf="oninput"in document;if(!bf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),bf=typeof dg.oninput=="function"}Ef=bf}else Ef=!1;fg=Ef&&(!document.documentMode||9<document.documentMode)}function mg(){Bt&&(Bt.detachEvent("onpropertychange",pg),hr=Bt=null)}function pg(t){if(t.propertyName==="value"&&$u(hr)){var r=[];zr(r,hr,t,xn(t)),Mu(Zo,r)}}function fw(t,r,a){t==="focusin"?(mg(),Bt=r,hr=a,Bt.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(hr)}function mw(t,r){if(t==="click")return $u(r)}function pw(t,r){if(t==="input"||t==="change")return $u(r)}function gw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var gn=typeof Object.is=="function"?Object.is:gw;function Jo(t,r){if(gn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!cs.call(r,h)||!gn(t[h],r[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,r){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function vg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?vg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=bs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=bs(t.document)}return r}function Tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var yw=qn&&"documentMode"in document&&11>=document.documentMode,Ia=null,wf=null,el=null,Af=!1;function Eg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Ia==null||Ia!==bs(l)||(l=Ia,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=kc(wf,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ia)))}function Os(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ca={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Sf={},bg={};qn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ps(t){if(Sf[t])return Sf[t];if(!Ca[t])return t;var r=Ca[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in bg)return Sf[t]=r[a];return t}var Tg=Ps("animationend"),wg=Ps("animationiteration"),Ag=Ps("animationstart"),vw=Ps("transitionrun"),_w=Ps("transitionstart"),Ew=Ps("transitioncancel"),Sg=Ps("transitionend"),Rg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Hn(t,r){Rg.set(t,r),Bn(r,[t])}var xg=new WeakMap;function Nn(t,r){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ya(r)},xg.set(t,r),r)}return{value:t,source:r,stack:ya(r)}}var Dn=[],Na=0,xf=0;function Xu(){for(var t=Na,r=xf=Na=0;r<t;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Ig(a,h,d)}}function Wu(t,r,a,l){Dn[Na++]=t,Dn[Na++]=r,Dn[Na++]=a,Dn[Na++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return Wu(t,r,a,l),Zu(t)}function Da(t,r){return Wu(t,null,null,r),Zu(t)}function Ig(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(t){if(50<Sl)throw Sl=0,kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Oa={};function bw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,a,l){return new bw(t,r,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,r){var a=t.alternate;return a===null?(a=yn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ju(t,r,a,l,h,d){var b=0;if(l=t,typeof t=="function")Cf(t)&&(b=1);else if(typeof t=="string")b=wA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=yn(31,a,r,h),t.elementType=x,t.lanes=d,t;case P:return ks(a.children,h,d,r);case Q:b=8,h|=24;break;case V:return t=yn(12,a,r,h|2),t.elementType=V,t.lanes=d,t;case ae:return t=yn(13,a,r,h),t.elementType=ae,t.lanes=d,t;case me:return t=yn(19,a,r,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:case W:b=10;break e;case J:b=9;break e;case re:b=11;break e;case D:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=yn(b,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ks(t,r,a,l){return t=yn(7,t,l,r),t.lanes=a,t}function Nf(t,r,a){return t=yn(6,t,null,r),t.lanes=a,t}function Df(t,r,a){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Pa=[],ka=0,ec=null,tc=0,On=[],Pn=0,Ms=null,qr=1,Hr="";function Vs(t,r){Pa[ka++]=tc,Pa[ka++]=ec,ec=t,tc=r}function Ng(t,r,a){On[Pn++]=qr,On[Pn++]=Hr,On[Pn++]=Ms,Ms=t;var l=qr;t=Hr;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var d=32-Yt(r)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,qr=1<<32-Yt(r)+h|a<<h|l,Hr=d+t}else qr=1<<d|a<<h|l,Hr=t}function Of(t){t.return!==null&&(Vs(t,1),Ng(t,1,0))}function Pf(t){for(;t===ec;)ec=Pa[--ka],Pa[ka]=null,tc=Pa[--ka],Pa[ka]=null;for(;t===Ms;)Ms=On[--Pn],On[Pn]=null,Hr=On[--Pn],On[Pn]=null,qr=On[--Pn],On[Pn]=null}var sn=null,ht=null,Be=!1,js=null,fr=!1,kf=Error(s(519));function Us(t){var r=Error(s(418,""));throw rl(Nn(r,t)),kf}function Dg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[wt]=t,r[yt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<xl.length;a++)Oe(xl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ts(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ws(r,l.value,l.defaultValue,l.children),va(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Yv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Mc),r=!0):r=!1,r||Us(t)}function Og(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:sn=sn.return}}function tl(t){if(t!==sn)return!1;if(!Be)return Og(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&ht&&Us(t),Og(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ht=Gn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ht=null}}else r===27?(r=ht,ki(t.type)?(t=em,em=null,ht=t):ht=r):ht=sn?Gn(t.stateNode.nextSibling):null;return!0}function nl(){ht=sn=null,Be=!1}function Pg(){var t=js;return t!==null&&(un===null?un=t:un.push.apply(un,t),js=null),t}function rl(t){js===null?js=[t]:js.push(t)}var Mf=ie(null),Ls=null,Fr=null;function _i(t,r,a){se(Mf,r._currentValue),r._currentValue=a}function Gr(t){t._currentValue=Mf.current,ue(Mf)}function Vf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function jf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<r.length;I++)if(w.context===r[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Vf(d.return,a,t),l||(b=null);break e}d=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,d=b.alternate,d!==null&&(d.lanes|=a),Vf(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function il(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=h.type;gn(h.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(h===Dt.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&jf(r,t,a,l),r.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Ls=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return kg(Ls,t)}function rc(t,r){return Ls===null&&zs(t),kg(t,r)}function kg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fr===null){if(t===null)throw Error(s(308));Fr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Fr=Fr.next=r;return a}var Tw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ww=i.unstable_scheduleCallback,Aw=i.unstable_NormalPriority,Rt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new Tw,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&ww(Aw,function(){t.controller.abort()})}var al=null,Lf=0,Ma=0,Va=null;function Sw(t,r){if(al===null){var a=al=[];Lf=0,Ma=Bd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,r.then(Mg,Mg),r}function Mg(){if(--Lf===0&&al!==null){Va!==null&&(Va.status="fulfilled");var t=al;al=null,Ma=0,Va=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Rw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Sw(t,r),Vg!==null&&Vg(t,r)};var Bs=ie(null);function zf(){var t=Bs.current;return t!==null?t:et.pooledCache}function ic(t,r){r===null?se(Bs,Bs.current):se(Bs,r.pool)}function jg(){var t=zf();return t===null?null:{parent:Rt._currentValue,pool:t}}var ol=Error(s(460)),Ug=Error(s(474)),sc=Error(s(542)),Bf={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ac(){}function zg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ac,ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,qg(t),t;default:if(typeof r.status=="string")r.then(ac,ac);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,qg(t),t}throw ll=r,ol}}var ll=null;function Bg(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function qg(t){if(t===ol||t===sc)throw Error(s(483))}var Ei=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Zu(t),Ig(t,null,a),r}return Wu(t,l,r,a),Zu(t)}function ul(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jo(t,a)}}function Ff(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Gf=!1;function cl(){if(Gf){var t=Va;if(t!==null)throw t}}function hl(t,r,a,l){Gf=!1;var h=t.updateQueue;Ei=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,F=I.next;I.next=null,b===null?d=F:b.next=F,b=I;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==b&&(w===null?X.firstBaseUpdate=F:w.next=F,X.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;b=0,X=F=I=null,w=d;do{var G=w.lane&-536870913,K=G!==w.lane;if(K?(je&G)===G:(l&G)===G){G!==0&&G===Ma&&(Gf=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Te=t,ve=w;G=r;var Xe=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ee=Te.call(Xe,ee,G);break e}ee=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,G=typeof Te=="function"?Te.call(Xe,ee,G):Te,G==null)break e;ee=E({},ee,G);break e;case 2:Ei=!0}}G=w.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(F=X=K,I=ee):X=X.next=K,b|=G;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;K=w,w=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ni|=b,t.lanes=b,t.memoizedState=ee}}function Hg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Fg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],r)}var ja=ie(null),oc=ie(0);function Gg(t,r){t=Zr,se(oc,t),se(ja,r),Zr=t|r.baseLanes}function Kf(){se(oc,Zr),se(ja,ja.current)}function Qf(){Zr=oc.current,ue(ja),ue(oc)}var wi=0,xe=null,Ye=null,_t=null,lc=!1,Ua=!1,qs=!1,uc=0,fl=0,La=null,xw=0;function mt(){throw Error(s(321))}function Yf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!gn(t[a],r[a]))return!1;return!0}function $f(t,r,a,l,h,d){return wi=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?Iy:Cy,qs=!1,d=a(l,h),qs=!1,Ua&&(d=Qg(r,a,l,h)),Kg(t),d}function Kg(t){$.H=pc;var r=Ye!==null&&Ye.next!==null;if(wi=0,_t=Ye=xe=null,lc=!1,fl=0,La=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&nc(t)&&(kt=!0))}function Qg(t,r,a,l){xe=t;var h=0;do{if(Ua&&(La=null),fl=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,_t=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=kw,d=r(a,l)}while(Ua);return d}function Iw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?dl(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(xe.flags|=1024),r}function Xf(){var t=uc!==0;return uc=0,t}function Wf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Zf(t){if(lc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lc=!1}wi=0,_t=Ye=xe=null,Ua=!1,fl=uc=0,La=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?xe.memoizedState=_t=t:_t=_t.next=t,_t}function Et(){if(Ye===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=_t===null?xe.memoizedState:_t.next;if(r!==null)_t=r,Ye=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var r=fl;return fl+=1,La===null&&(La=[]),t=zg(La,t,r),r=xe,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Iy:Cy),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===W)return $t(t)}throw Error(s(438,String(t)))}function ed(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Jf(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function Kr(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=Et();return td(r,Ye,t)}function td(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var w=b=null,I=null,F=r,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(je&ee)===ee:(wi&ee)===ee){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ma&&(X=!0);else if((wi&G)===G){F=F.next,G===Ma&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=ee,b=d):I=I.next=ee,xe.lanes|=G,Ni|=G;ee=F.action,qs&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(w=I=G,b=d):I=I.next=G,xe.lanes|=ee,Ni|=ee;F=F.next}while(F!==null&&F!==r);if(I===null?b=d:I.next=w,!gn(d,t.memoizedState)&&(kt=!0,X&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=b,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do d=t(d,b.action),b=b.next;while(b!==h);gn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(t,r,a){var l=xe,h=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!gn((Ye||h).memoizedState,a);b&&(h.memoizedState=a,kt=!0),h=h.queue;var w=Wg.bind(null,l,h,t);if(ml(2048,8,w,[t]),h.getSnapshot!==r||b||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,za(9,fc(),Xg.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(wi&124)!==0||$g(l,r,a)}return a}function $g(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Jf(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Xg(t,r,a,l){r.value=a,r.getSnapshot=l,Zg(r)&&Jg(t)}function Wg(t,r,a){return a(function(){Zg(r)&&Jg(t)})}function Zg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!gn(t,a)}catch{return!0}}function Jg(t){var r=Da(t,2);r!==null&&Tn(r,t,2)}function rd(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),qs){mn(!0);try{a()}finally{mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},r}function ey(t,r,a,l){return t.baseState=a,td(t,Ye,typeof l=="function"?l:Kr)}function Cw(t,r,a,l,h){if(mc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ty(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ty(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,b={};$.T=b;try{var w=a(h,l),I=$.S;I!==null&&I(b,w),ny(t,r,w)}catch(F){id(t,r,F)}finally{$.T=d}}else try{d=a(h,l),ny(t,r,d)}catch(F){id(t,r,F)}}function ny(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ry(t,r,l)},function(l){return id(t,r,l)}):ry(t,r,a)}function ry(t,r,a){r.status="fulfilled",r.value=a,iy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ty(t,a)))}function id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,iy(r),r=r.next;while(r!==l)}t.action=null}function iy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function sy(t,r){return r}function ay(t,r){if(Be){var a=et.formState;if(a!==null){e:{var l=xe;if(Be){if(ht){t:{for(var h=ht,d=fr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Gn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:r},a.queue=l,a=Sy.bind(null,xe,l),l.dispatch=a,l=rd(!1),d=ud.bind(null,xe,!1,l.queue),l=on(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Cw.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function oy(t){var r=Et();return ly(r,Ye,t)}function ly(t,r,a){if(r=td(t,r,sy)[0],t=hc(Kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=dl(r)}catch(b){throw b===ol?sc:b}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,za(9,fc(),Nw.bind(null,h,a),null)),[l,d,t]}function Nw(t,r){t.action=r}function uy(t){var r=Et(),a=Ye;if(a!==null)return ly(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Jf(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function fc(){return{destroy:void 0,resource:void 0}}function cy(){return Et().memoizedState}function dc(t,r,a,l){var h=on();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=za(1|r,fc(),a,l)}function ml(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Yf(l,Ye.memoizedState.deps)?h.memoizedState=za(r,d,a,l):(xe.flags|=t,h.memoizedState=za(1|r,d,a,l))}function hy(t,r){dc(8390656,8,t,r)}function fy(t,r){ml(2048,8,t,r)}function dy(t,r){return ml(4,2,t,r)}function my(t,r){return ml(4,4,t,r)}function py(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gy(t,r,a){a=a!=null?a.concat([t]):null,ml(4,4,py.bind(null,r,t),a)}function sd(){}function yy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function vy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),qs){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,r],l}function ad(t,r,a){return a===void 0||(wi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=bv(),xe.lanes|=t,Ni|=t,a)}function _y(t,r,a,l){return gn(a,r)?a:ja.current!==null?(t=ad(t,a,l),gn(t,r)||(kt=!0),t):(wi&42)===0?(kt=!0,t.memoizedState=a):(t=bv(),xe.lanes|=t,Ni|=t,r)}function Ey(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var b=$.T,w={};$.T=w,ud(t,!1,r,a);try{var I=h(),F=$.S;if(F!==null&&F(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Rw(I,l);pl(t,r,X,bn(t))}else pl(t,r,l,bn(t))}catch(ee){pl(t,r,{then:function(){},status:"rejected",reason:ee},bn())}finally{le.p=d,$.T=b}}function Dw(){}function od(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=by(t).queue;Ey(t,h,r,pe,a===null?Dw:function(){return Ty(t),a(l)})}function by(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ty(t){var r=by(t).next.queue;pl(t,r,{},bn())}function ld(){return $t(Pl)}function wy(){return Et().memoizedState}function Ay(){return Et().memoizedState}function Ow(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=bi(a);var l=Ti(r,t,a);l!==null&&(Tn(l,r,a),ul(l,r,a)),r={cache:Uf()},t.payload=r;return}r=r.return}}function Pw(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?Ry(r,a):(a=If(t,r,a,l),a!==null&&(Tn(a,t,l),xy(a,r,l)))}function Sy(t,r,a){var l=bn();pl(t,r,a,l)}function pl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Ry(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var b=r.lastRenderedState,w=d(b,a);if(h.hasEagerState=!0,h.eagerState=w,gn(w,b))return Wu(t,r,h,0),et===null&&Xu(),!1}catch{}finally{}if(a=If(t,r,h,l),a!==null)return Tn(a,t,l),xy(a,r,l),!0}return!1}function ud(t,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&Tn(r,t,2)}function mc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function Ry(t,r){Ua=lc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function xy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jo(t,a)}}var pc={readContext:$t,use:cc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Iy={readContext:$t,use:cc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:hy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,dc(4194308,4,py.bind(null,r,t),a)},useLayoutEffect:function(t,r){return dc(4194308,4,t,r)},useInsertionEffect:function(t,r){dc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(qs){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var h=a(r);if(qs){mn(!0);try{a(r)}finally{mn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Pw.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=rd(t);var r=t.queue,a=Sy.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,r){var a=on();return ad(a,t,r)},useTransition:function(){var t=rd(!1);return t=Ey.bind(null,xe,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(je&124)!==0||$g(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,hy(Wg.bind(null,l,d,t),[t]),l.flags|=2048,za(9,fc(),Xg.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=et.identifierPrefix;if(Be){var a=Hr,l=qr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=uc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=xw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:ay,useActionState:ay,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:ed,useCacheRefresh:function(){return on().memoizedState=Ow.bind(null,xe)}},Cy={readContext:$t,use:cc,useCallback:yy,useContext:$t,useEffect:fy,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:vy,useReducer:hc,useRef:cy,useState:function(){return hc(Kr)},useDebugValue:sd,useDeferredValue:function(t,r){var a=Et();return _y(a,Ye.memoizedState,t,r)},useTransition:function(){var t=hc(Kr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:dl(t),r]},useSyncExternalStore:Yg,useId:wy,useHostTransitionStatus:ld,useFormState:oy,useActionState:oy,useOptimistic:function(t,r){var a=Et();return ey(a,Ye,t,r)},useMemoCache:ed,useCacheRefresh:Ay},kw={readContext:$t,use:cc,useCallback:yy,useContext:$t,useEffect:fy,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:vy,useReducer:nd,useRef:cy,useState:function(){return nd(Kr)},useDebugValue:sd,useDeferredValue:function(t,r){var a=Et();return Ye===null?ad(a,t,r):_y(a,Ye.memoizedState,t,r)},useTransition:function(){var t=nd(Kr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:dl(t),r]},useSyncExternalStore:Yg,useId:wy,useHostTransitionStatus:ld,useFormState:uy,useActionState:uy,useOptimistic:function(t,r){var a=Et();return Ye!==null?ey(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Ay},Ba=null,gl=0;function gc(t){var r=gl;return gl+=1,Ba===null&&(Ba=[]),zg(Ba,t,r)}function yl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function yc(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ny(t){var r=t._init;return r(t._payload)}function Dy(t){function r(z,M){if(t){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)r(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Br(z,M),z.index=0,z.sibling=null,z}function d(z,M,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,M,H,Z){return M===null||M.tag!==6?(M=Nf(H,z.mode,Z),M.return=z,M):(M=h(M,H),M.return=z,M)}function I(z,M,H,Z){var fe=H.type;return fe===P?X(z,M,H.props.children,Z,H.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ny(fe)===M.type)?(M=h(M,H.props),yl(M,H),M.return=z,M):(M=Ju(H.type,H.key,H.props,null,z.mode,Z),yl(M,H),M.return=z,M)}function F(z,M,H,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Df(H,z.mode,Z),M.return=z,M):(M=h(M,H.children||[]),M.return=z,M)}function X(z,M,H,Z,fe){return M===null||M.tag!==7?(M=ks(H,z.mode,Z,fe),M.return=z,M):(M=h(M,H),M.return=z,M)}function ee(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nf(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return H=Ju(M.type,M.key,M.props,null,z.mode,H),yl(H,M),H.return=z,H;case N:return M=Df(M,z.mode,H),M.return=z,M;case R:var Z=M._init;return M=Z(M._payload),ee(z,M,H)}if(ut(M)||U(M))return M=ks(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return ee(z,gc(M),H);if(M.$$typeof===W)return ee(z,rc(z,M),H);yc(z,M)}return null}function G(z,M,H,Z){var fe=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:w(z,M,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===fe?I(z,M,H,Z):null;case N:return H.key===fe?F(z,M,H,Z):null;case R:return fe=H._init,H=fe(H._payload),G(z,M,H,Z)}if(ut(H)||U(H))return fe!==null?null:X(z,M,H,Z,null);if(typeof H.then=="function")return G(z,M,gc(H),Z);if(H.$$typeof===W)return G(z,M,rc(z,H),Z);yc(z,H)}return null}function K(z,M,H,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,w(M,z,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return z=z.get(Z.key===null?H:Z.key)||null,I(M,z,Z,fe);case N:return z=z.get(Z.key===null?H:Z.key)||null,F(M,z,Z,fe);case R:var Ne=Z._init;return Z=Ne(Z._payload),K(z,M,H,Z,fe)}if(ut(Z)||U(Z))return z=z.get(H)||null,X(M,z,Z,fe,null);if(typeof Z.then=="function")return K(z,M,H,gc(Z),fe);if(Z.$$typeof===W)return K(z,M,H,rc(M,Z),fe);yc(M,Z)}return null}function Te(z,M,H,Z){for(var fe=null,Ne=null,de=M,_e=M=0,Vt=null;de!==null&&_e<H.length;_e++){de.index>_e?(Vt=de,de=null):Vt=de.sibling;var Le=G(z,de,H[_e],Z);if(Le===null){de===null&&(de=Vt);break}t&&de&&Le.alternate===null&&r(z,de),M=d(Le,M,_e),Ne===null?fe=Le:Ne.sibling=Le,Ne=Le,de=Vt}if(_e===H.length)return a(z,de),Be&&Vs(z,_e),fe;if(de===null){for(;_e<H.length;_e++)de=ee(z,H[_e],Z),de!==null&&(M=d(de,M,_e),Ne===null?fe=de:Ne.sibling=de,Ne=de);return Be&&Vs(z,_e),fe}for(de=l(de);_e<H.length;_e++)Vt=K(de,z,_e,H[_e],Z),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?_e:Vt.key),M=d(Vt,M,_e),Ne===null?fe=Vt:Ne.sibling=Vt,Ne=Vt);return t&&de.forEach(function(Li){return r(z,Li)}),Be&&Vs(z,_e),fe}function ve(z,M,H,Z){if(H==null)throw Error(s(151));for(var fe=null,Ne=null,de=M,_e=M=0,Vt=null,Le=H.next();de!==null&&!Le.done;_e++,Le=H.next()){de.index>_e?(Vt=de,de=null):Vt=de.sibling;var Li=G(z,de,Le.value,Z);if(Li===null){de===null&&(de=Vt);break}t&&de&&Li.alternate===null&&r(z,de),M=d(Li,M,_e),Ne===null?fe=Li:Ne.sibling=Li,Ne=Li,de=Vt}if(Le.done)return a(z,de),Be&&Vs(z,_e),fe;if(de===null){for(;!Le.done;_e++,Le=H.next())Le=ee(z,Le.value,Z),Le!==null&&(M=d(Le,M,_e),Ne===null?fe=Le:Ne.sibling=Le,Ne=Le);return Be&&Vs(z,_e),fe}for(de=l(de);!Le.done;_e++,Le=H.next())Le=K(de,z,_e,Le.value,Z),Le!==null&&(t&&Le.alternate!==null&&de.delete(Le.key===null?_e:Le.key),M=d(Le,M,_e),Ne===null?fe=Le:Ne.sibling=Le,Ne=Le);return t&&de.forEach(function(MA){return r(z,MA)}),Be&&Vs(z,_e),fe}function Xe(z,M,H,Z){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var fe=H.key;M!==null;){if(M.key===fe){if(fe=H.type,fe===P){if(M.tag===7){a(z,M.sibling),Z=h(M,H.props.children),Z.return=z,z=Z;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ny(fe)===M.type){a(z,M.sibling),Z=h(M,H.props),yl(Z,H),Z.return=z,z=Z;break e}a(z,M);break}else r(z,M);M=M.sibling}H.type===P?(Z=ks(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Ju(H.type,H.key,H.props,null,z.mode,Z),yl(Z,H),Z.return=z,z=Z)}return b(z);case N:e:{for(fe=H.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),Z=h(M,H.children||[]),Z.return=z,z=Z;break e}else{a(z,M);break}else r(z,M);M=M.sibling}Z=Df(H,z.mode,Z),Z.return=z,z=Z}return b(z);case R:return fe=H._init,H=fe(H._payload),Xe(z,M,H,Z)}if(ut(H))return Te(z,M,H,Z);if(U(H)){if(fe=U(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ve(z,M,H,Z)}if(typeof H.then=="function")return Xe(z,M,gc(H),Z);if(H.$$typeof===W)return Xe(z,M,rc(z,H),Z);yc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),Z=h(M,H),Z.return=z,z=Z):(a(z,M),Z=Nf(H,z.mode,Z),Z.return=z,z=Z),b(z)):a(z,M)}return function(z,M,H,Z){try{gl=0;var fe=Xe(z,M,H,Z);return Ba=null,fe}catch(de){if(de===ol||de===sc)throw de;var Ne=yn(29,de,null,z.mode);return Ne.lanes=Z,Ne.return=z,Ne}finally{}}}var qa=Dy(!0),Oy=Dy(!1),kn=ie(null),dr=null;function Ai(t){var r=t.alternate;se(xt,xt.current&1),se(kn,t),dr===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(dr=t)}function Py(t){if(t.tag===22){if(se(xt,xt.current),se(kn,t),dr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(dr=t)}}else Si()}function Si(){se(xt,xt.current),se(kn,kn.current)}function Qr(t){ue(kn),dr===t&&(dr=null),ue(xt)}var xt=ie(0);function vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),h=bi(l);h.payload=r,a!=null&&(h.callback=a),r=Ti(t,h,l),r!==null&&(Tn(r,t,l),ul(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),h=bi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ti(t,h,l),r!==null&&(Tn(r,t,l),ul(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=bi(a);l.tag=2,r!=null&&(l.callback=r),r=Ti(t,l,a),r!==null&&(Tn(r,t,a),ul(r,t,a))}};function ky(t,r,a,l,h,d,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,b):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function My(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&hd.enqueueReplaceState(r,r.state,null)}function Hs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vy(t){_c(t)}function jy(t){console.error(t)}function Uy(t){_c(t)}function Ec(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ly(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,r,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,r)},a}function zy(t){return t=bi(t),t.tag=3,t}function By(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ly(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ly(r,a,l),typeof h!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Mw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return dr===null?Vd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Vd(),!1}if(Be)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==kf&&(t=Error(s(422),{cause:l}),rl(Nn(t,a)))):(l!==kf&&(r=Error(s(423),{cause:l}),rl(Nn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=fd(t.stateNode,l,h),Ff(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Al===null?Al=[d]:Al.push(d),ft!==4&&(ft=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,l,t),Ff(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Di===null||!Di.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zy(h),By(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var qy=Error(s(461)),kt=!1;function qt(t,r,a,l){r.child=t===null?Oy(r,null,a,l):qa(r,t.child,a,l)}function Hy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return zs(r),l=$f(t,r,a,b,d,h),w=Xf(),t!==null&&!kt?(Wf(t,r,h),Yr(t,r,h)):(Be&&w&&Of(r),r.flags|=1,qt(t,r,l,h),r.child)}function Fy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Gy(t,r,d,l,h)):(t=Ju(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ed(t,h)){var b=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(b,l)&&t.ref===r.ref)return Yr(t,r,h)}return r.flags|=1,t=Br(d,l),t.ref=r.ref,t.return=r,r.child=t}function Gy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,Ed(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Yr(t,r,h)}return dd(t,r,a,l,h)}function Ky(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Qy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(r,d!==null?d.cachePool:null),d!==null?Gg(r,d):Kf(),Py(r);else return r.lanes=r.childLanes=536870912,Qy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ic(r,d.cachePool),Gg(r,d),Si(),r.memoizedState=null):(t!==null&&ic(r,null),Kf(),Si());return qt(t,r,h,a),r.child}function Qy(t,r,a,l){var h=zf();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&ic(r,null),Kf(),Py(r),t!==null&&il(t,r,l,!0),null}function bc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function dd(t,r,a,l,h){return zs(r),a=$f(t,r,a,l,void 0,h),l=Xf(),t!==null&&!kt?(Wf(t,r,h),Yr(t,r,h)):(Be&&l&&Of(r),r.flags|=1,qt(t,r,a,h),r.child)}function Yy(t,r,a,l,h,d){return zs(r),r.updateQueue=null,a=Qg(r,l,a,h),Kg(t),l=Xf(),t!==null&&!kt?(Wf(t,r,d),Yr(t,r,d)):(Be&&l&&Of(r),r.flags|=1,qt(t,r,a,d),r.child)}function $y(t,r,a,l,h){if(zs(r),r.stateNode===null){var d=Oa,b=a.contextType;typeof b=="object"&&b!==null&&(d=$t(b)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},qf(r),b=a.contextType,d.context=typeof b=="object"&&b!==null?$t(b):Oa,d.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(cd(r,a,b,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&hd.enqueueReplaceState(d,d.state,null),hl(r,l,d,h),cl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,I=Hs(a,w);d.props=I;var F=d.context,X=a.contextType;b=Oa,typeof X=="object"&&X!==null&&(b=$t(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==b)&&My(r,d,l,b),Ei=!1;var G=r.memoizedState;d.state=G,hl(r,l,d,h),cl(),F=r.memoizedState,w||G!==F||Ei?(typeof ee=="function"&&(cd(r,a,ee,l),F=r.memoizedState),(I=Ei||ky(r,a,I,l,G,F,b))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=b,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Hf(t,r),b=r.memoizedProps,X=Hs(a,b),d.props=X,ee=r.pendingProps,G=d.context,F=a.contextType,I=Oa,typeof F=="object"&&F!==null&&(I=$t(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ee||G!==I)&&My(r,d,l,I),Ei=!1,G=r.memoizedState,d.state=G,hl(r,l,d,h),cl();var K=r.memoizedState;b!==ee||G!==K||Ei||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof w=="function"&&(cd(r,a,w,l),K=r.memoizedState),(X=Ei||ky(r,a,X,l,G,K,I)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,bc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=qa(r,t.child,null,h),r.child=qa(r,null,a,h)):qt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Yr(t,r,h),t}function Xy(t,r,a,l){return nl(),r.flags|=256,qt(t,r,a,l),r.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:jg()}}function gd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function Wy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,b;if((b=d)||(b=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Ai(r):Si(),Be){var w=ht,I;if(I=w){e:{for(I=w,w=fr;I.nodeType!==8;){if(!w){w=null;break e}if(I=Gn(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(r.memoizedState={dehydrated:w,treeContext:Ms!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},I=yn(18,null,null,0),I.stateNode=w,I.return=r,r.child=I,sn=r,ht=null,I=!0):I=!1}I||Us(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Jd(w)?r.lanes=32:r.lanes=536870912,null;Qr(r)}return w=l.children,l=l.fallback,h?(Si(),h=r.mode,w=Tc({mode:"hidden",children:w},h),l=ks(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=pd(a),h.childLanes=gd(t,b,a),r.memoizedState=md,l):(Ai(r),yd(r,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)r.flags&256?(Ai(r),r.flags&=-257,r=vd(t,r,a)):r.memoizedState!==null?(Si(),r.child=t.child,r.flags|=128,r=null):(Si(),h=l.fallback,w=r.mode,l=Tc({mode:"visible",children:l.children},w),h=ks(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,qa(r,t.child,null,a),l=r.child,l.memoizedState=pd(a),l.childLanes=gd(t,b,a),r.memoizedState=md,r=h);else if(Ai(r),Jd(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(s(419)),l.stack="",l.digest=b,rl({value:l,source:null,stack:null}),r=vd(t,r,a)}else if(kt||il(t,r,a,!1),b=(a&t.childLanes)!==0,kt||b){if(b=et,b!==null&&(l=a&-a,l=(l&42)!==0?1:fi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Da(t,l),Tn(b,t,l),qy;w.data==="$?"||Vd(),r=vd(t,r,a)}else w.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ht=Gn(w.nextSibling),sn=r,Be=!0,js=null,fr=!1,t!==null&&(On[Pn++]=qr,On[Pn++]=Hr,On[Pn++]=Ms,qr=t.id,Hr=t.overflow,Ms=r),r=yd(r,l.children),r.flags|=4096);return r}return h?(Si(),h=l.fallback,w=r.mode,I=t.child,F=I.sibling,l=Br(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=Br(F,h):(h=ks(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=t.child.memoizedState,w===null?w=pd(a):(I=w.cachePool,I!==null?(F=Rt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=jg(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=gd(t,b,a),r.memoizedState=md,l):(Ai(r),a=t.child,t=a.sibling,a=Br(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function yd(t,r){return r=Tc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Tc(t,r){return t=yn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vd(t,r,a){return qa(r,t.child,null,a),t=yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Zy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Vf(t.return,r,a)}function _d(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Jy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,a,r);else if(t.tag===19)Zy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(xt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_d(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&vc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(r,!0,a,null,d);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ni|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(il(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Br(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Br(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function Vw(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),_i(r,Rt,t.memoizedState.cache),nl();break;case 27:case 5:hi(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:_i(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Wy(t,r,a):(Ai(r),t=Yr(t,r,a),t!==null?t.sibling:null);Ai(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Jy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ky(t,r,a);case 24:_i(r,Rt,t.memoizedState.cache)}return Yr(t,r,a)}function ev(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!Ed(t,a)&&(r.flags&128)===0)return kt=!1,Vw(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,Be&&(r.flags&1048576)!==0&&Ng(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Cf(l)?(t=Hs(l,t),r.tag=1,r=$y(null,r,l,t,a)):(r.tag=0,r=dd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===re){r.tag=11,r=Hy(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=Fy(null,r,l,t,a);break e}}throw r=Lt(l)||l,Error(s(306,r,""))}}return r;case 0:return dd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Hs(l,r.pendingProps),$y(t,r,l,h,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Hf(t,r),hl(r,l,null,a);var b=r.memoizedState;if(l=b.cache,_i(r,Rt,l),l!==d.cache&&jf(r,[Rt],a,!0),cl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Xy(t,r,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),r),rl(h),r=Xy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Gn(t.firstChild),sn=r,Be=!0,js=null,fr=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),l===h){r=Yr(t,r,a);break e}qt(t,r,l,a)}r=r.child}return r;case 26:return bc(t,r),t===null?(a=i_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Vc(we.current).createElement(a),l[wt]=r,l[yt]=t,Ft(l,a,t),dt(l),r.stateNode=l):r.memoizedState=i_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return hi(r),t===null&&Be&&(l=r.stateNode=t_(r.type,r.pendingProps,we.current),sn=r,fr=!0,h=ht,ki(r.type)?(em=h,ht=Gn(l.firstChild)):ht=h),qt(t,r,r.pendingProps.children,a),bc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ht)&&(l=cA(l,r.type,r.pendingProps,fr),l!==null?(r.stateNode=l,sn=r,ht=Gn(l.firstChild),fr=!1,h=!0):h=!1),h||Us(r)),hi(r),h=r.type,d=r.pendingProps,b=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:b!==null&&Xd(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=$f(t,r,Iw,null,null,a),Pl._currentValue=h),bc(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ht)&&(a=hA(a,r.pendingProps,fr),a!==null?(r.stateNode=a,sn=r,ht=null,t=!0):t=!1),t||Us(r)),null;case 13:return Wy(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=qa(r,null,l,a):qt(t,r,l,a),r.child;case 11:return Hy(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,_i(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,zs(r),h=$t(h),l=l(h),r.flags|=1,qt(t,r,l,a),r.child;case 14:return Fy(t,r,r.type,r.pendingProps,a);case 15:return Gy(t,r,r.type,r.pendingProps,a);case 19:return Jy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Tc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Br(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ky(t,r,a);case 24:return zs(r),l=$t(Rt),t===null?(h=zf(),h===null&&(h=et,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},qf(r),_i(r,Rt,h)):((t.lanes&a)!==0&&(Hf(t,r),hl(r,null,null,a),cl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),_i(r,Rt,l)):(l=d.cache,_i(r,Rt,l),l!==h.cache&&jf(r,[Rt],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function $r(t){t.flags|=4}function tv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!u_(r)){if(r=kn.current,r!==null&&((je&4194048)===je?dr!==null:(je&62914560)!==je&&(je&536870912)===0||r!==dr))throw ll=Bf,Ug;t.flags|=8192}}function wc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Mo():536870912,t.lanes|=r,Ka|=r)}function vl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function jw(t,r,a){var l=r.pendingProps;switch(Pf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gr(Rt),er(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(r)?$r(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pg())),ot(r),null;case 26:return a=r.memoizedState,t===null?($r(r),a!==null?(ot(r),tv(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?($r(r),ot(r),tv(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&$r(r),ot(r),r.flags&=-16777217),null;case 27:Ir(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=ye.current,tl(r)?Dg(r):(t=t_(h,l,a),r.stateNode=t,$r(r))}return ot(r),null;case 5:if(Ir(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=ye.current,tl(r))Dg(r);else{switch(h=Vc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[wt]=r,t[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,tl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yv(t.nodeValue,a)),t||Us(r)}else t=Vc(t).createTextNode(l),t[wt]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Pg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Qr(r),r):(Qr(r),null)}if(Qr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),ot(r),null;case 4:return er(),t===null&&Gd(r.stateNode.containerInfo),ot(r),null;case 10:return Gr(r.type),ot(r),null;case 19:if(ue(xt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)vl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=vc(t),d!==null){for(r.flags|=128,vl(h,!1),t=d.updateQueue,r.updateQueue=t,wc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Cg(a,t),a=a.sibling;return se(xt,xt.current&1|2),r.child}t=t.sibling}h.tail!==null&&An()>Rc&&(r.flags|=128,l=!0,vl(h,!1),r.lanes=4194304)}else{if(!l)if(t=vc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,wc(r,t),vl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return ot(r),null}else 2*An()-h.renderingStartTime>Rc&&a!==536870912&&(r.flags|=128,l=!0,vl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=An(),r.sibling=null,t=xt.current,se(xt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Qr(r),Qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gr(Rt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Uw(t,r){switch(Pf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Gr(Rt),er(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ir(r),null;case 13:if(Qr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(xt),null;case 4:return er(),null;case 10:return Gr(r.type),null;case 22:case 23:return Qr(r),Qf(),t!==null&&ue(Bs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Gr(Rt),null;case 25:return null;default:return null}}function nv(t,r){switch(Pf(r),r.tag){case 3:Gr(Rt),er();break;case 26:case 27:case 5:Ir(r);break;case 4:er();break;case 13:Qr(r);break;case 19:ue(xt);break;case 10:Gr(r.type);break;case 22:case 23:Qr(r),Qf(),t!==null&&ue(Bs);break;case 24:Gr(Rt)}}function _l(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,b=a.inst;l=d(),b.destroy=l}a=a.next}while(a!==h)}}catch(w){We(r,r.return,w)}}function Ri(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=r;var I=a,F=w;try{F()}catch(X){We(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function rv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Fg(r,a)}catch(l){We(t,t.return,l)}}}function iv(t,r,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function El(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function sv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function bd(t,r,a){try{var l=t.stateNode;sA(l,t.type,a,r),l[yt]=r}catch(h){We(t,t.return,h)}}function av(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Mc));else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(wd(t,r,a),t=t.sibling;t!==null;)wd(t,r,a),t=t.sibling}function Ac(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,r,a),t=t.sibling;t!==null;)Ac(t,r,a),t=t.sibling}function ov(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,a),r[wt]=t,r[yt]=a}catch(d){We(t,t.return,d)}}var Xr=!1,pt=!1,Ad=!1,lv=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Lw(t,r){if(t=t.containerInfo,Yd=qc,t=_g(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var b=0,w=-1,I=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(w=b+h),ee!==d||l!==0&&ee.nodeType!==3||(I=b+l),ee.nodeType===3&&(b+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===t)break t;if(G===a&&++F===h&&(w=b),G===d&&++X===l&&(I=b),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},qc=!1,Mt=r;Mt!==null;)if(r=Mt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Mt=t;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){We(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Mt=t;break}Mt=r.return}}function uv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&_l(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){We(a,a.return,b)}else{var h=Hs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){We(a,a.return,b)}}l&64&&rv(a),l&512&&El(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Fg(t,r)}catch(b){We(a,a.return,b)}}break;case 27:r===null&&l&4&&ov(a);case 26:case 5:xi(t,a),r===null&&l&4&&sv(a),l&512&&El(a,a.return);break;case 12:xi(t,a);break;case 13:xi(t,a),l&4&&fv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yw.bind(null,a),fA(t,a))));break;case 22:if(l=a.memoizedState!==null||Xr,!l){r=r!==null&&r.memoizedState!==null||pt,h=Xr;var d=pt;Xr=l,(pt=r)&&!d?Ii(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Xr=h,pt=d}break;case 30:break;default:xi(t,a)}}function cv(t){var r=t.alternate;r!==null&&(t.alternate=null,cv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&pi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,ln=!1;function Wr(t,r,a){for(a=a.child;a!==null;)hv(t,r,a),a=a.sibling}function hv(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||mr(a,r),Wr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||mr(a,r);var l=it,h=ln;ki(a.type)&&(it=a.stateNode,ln=!1),Wr(t,r,a),Cl(a.stateNode),it=l,ln=h;break;case 5:pt||mr(a,r);case 6:if(l=it,h=ln,it=null,Wr(t,r,a),it=l,ln=h,it!==null)if(ln)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:it!==null&&(ln?(t=it,Jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jl(t)):Jv(it,a.stateNode));break;case 4:l=it,h=ln,it=a.stateNode.containerInfo,ln=!0,Wr(t,r,a),it=l,ln=h;break;case 0:case 11:case 14:case 15:pt||Ri(2,a,r),pt||Ri(4,a,r),Wr(t,r,a);break;case 1:pt||(mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&iv(a,r,l)),Wr(t,r,a);break;case 21:Wr(t,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Wr(t,r,a),pt=l;break;default:Wr(t,r,a)}}function fv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){We(r,r.return,a)}}function zw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new lv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new lv),r;default:throw Error(s(435,t.tag))}}function Sd(t,r){var a=zw(t);r.forEach(function(l){var h=$w.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,b=r,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ki(w.type)){it=w.stateNode,ln=!1;break e}break;case 5:it=w.stateNode,ln=!1;break e;case 3:case 4:it=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(it===null)throw Error(s(160));hv(d,b,h),it=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)dv(r,t),r=r.sibling}var Fn=null;function dv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),_n(t),l&4&&(Ri(3,t,t.return),_l(3,t),Ri(5,t,t.return));break;case 1:vn(r,t),_n(t),l&512&&(pt||a===null||mr(a,a.return)),l&64&&Xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(vn(r,t),_n(t),l&512&&(pt||a===null||mr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vs]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[wt]=t,dt(d),l=d;break e;case"link":var b=o_("link","href",h).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(b=o_("meta","content",h).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,dt(d),l=d}t.stateNode=l}else l_(h,t.type,t.stateNode);else t.stateNode=a_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?l_(h,t.type,t.stateNode):a_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(r,t),_n(t),l&512&&(pt||a===null||mr(a,a.return)),a!==null&&l&4&&bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,t),_n(t),l&512&&(pt||a===null||mr(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(K){We(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(vn(r,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){We(t,t.return,K)}}break;case 3:if(Lc=null,h=Fn,Fn=jc(r.containerInfo),vn(r,t),Fn=h,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(K){We(t,t.return,K)}Ad&&(Ad=!1,mv(t));break;case 4:l=Fn,Fn=jc(t.stateNode.containerInfo),vn(r,t),_n(t),Fn=l;break;case 12:vn(r,t),_n(t);break;case 13:vn(r,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=An()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Xr,X=pt;if(Xr=F||h,pt=X||I,vn(r,t),pt=X,Xr=F,_n(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Xr||pt||Fs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=I.stateNode;var ee=I.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){We(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){We(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(t,a))));break;case 19:vn(r,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 30:break;case 21:break;default:vn(r,t),_n(t)}}function _n(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(av(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);Ac(t,d,h);break;case 5:var b=a.stateNode;a.flags&32&&(Rn(b,""),a.flags&=-33);var w=Td(t);Ac(t,w,b);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Td(t);wd(t,F,I);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function mv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;mv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function xi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)uv(t,r.alternate,r),r=r.sibling}function Fs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ri(4,r,r.return),Fs(r);break;case 1:mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&iv(r,r.return,a),Fs(r);break;case 27:Cl(r.stateNode);case 26:case 5:mr(r,r.return),Fs(r);break;case 22:r.memoizedState===null&&Fs(r);break;case 30:Fs(r);break;default:Fs(r)}t=t.sibling}}function Ii(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ii(h,d,a),_l(4,d);break;case 1:if(Ii(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Hg(I[h],w)}catch(F){We(l,l.return,F)}}a&&b&64&&rv(d),El(d,d.return);break;case 27:ov(d);case 26:case 5:Ii(h,d,a),a&&l===null&&b&4&&sv(d),El(d,d.return);break;case 12:Ii(h,d,a);break;case 13:Ii(h,d,a),a&&b&4&&fv(h,d);break;case 22:d.memoizedState===null&&Ii(h,d,a),El(d,d.return);break;case 30:break;default:Ii(h,d,a)}r=r.sibling}}function Rd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sl(t))}function pr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pv(t,r,a,l),r=r.sibling}function pv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pr(t,r,a,l),h&2048&&_l(9,r);break;case 1:pr(t,r,a,l);break;case 3:pr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){pr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else pr(t,r,a,l);break;case 13:pr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,b=r.alternate,r.memoizedState!==null?d._visibility&2?pr(t,r,a,l):bl(t,r):d._visibility&2?pr(t,r,a,l):(d._visibility|=2,Ha(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Rd(b,r);break;case 24:pr(t,r,a,l),h&2048&&xd(r.alternate,r);break;default:pr(t,r,a,l)}}function Ha(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,b=r,w=a,I=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Ha(d,b,w,I,h),_l(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?Ha(d,b,w,I,h):bl(d,b):(X._visibility|=2,Ha(d,b,w,I,h)),h&&F&2048&&Rd(b.alternate,b);break;case 24:Ha(d,b,w,I,h),h&&F&2048&&xd(b.alternate,b);break;default:Ha(d,b,w,I,h)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:bl(a,l),h&2048&&xd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Tl=8192;function Fa(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)gv(t),t=t.sibling}function gv(t){switch(t.tag){case 26:Fa(t),t.flags&Tl&&t.memoizedState!==null&&SA(Fn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t);break;case 3:case 4:var r=Fn;Fn=jc(t.stateNode.containerInfo),Fa(t),Fn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,Fa(t),Tl=r):Fa(t));break;default:Fa(t)}}function yv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function wl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,_v(l,t)}yv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(t),t=t.sibling}function vv(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Ri(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Sc(t)):wl(t);break;default:wl(t)}}function Sc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,_v(l,t)}yv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ri(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(r));break;default:Sc(r)}t=t.sibling}}function _v(t,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Ri(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(cv(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var Bw={getCacheForType:function(t){var r=$t(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},qw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,je=0,Ke=0,En=null,Ci=!1,Ga=!1,Id=!1,Zr=0,ft=0,Ni=0,Gs=0,Cd=0,Mn=0,Ka=0,Al=null,un=null,Nd=!1,Dd=0,Rc=1/0,xc=null,Di=null,Ht=0,Oi=null,Qa=null,Ya=0,Od=0,Pd=null,Ev=null,Sl=0,kd=null;function bn(){if((Ge&2)!==0&&je!==0)return je&-je;if($.T!==null){var t=Ma;return t!==0?t:Bd()}return di()}function bv(){Mn===0&&(Mn=(je&536870912)===0||Be?ko():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Mn}function Tn(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&($a(t,0),Pi(t,je,Mn,!1)),Nr(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Gs|=a),ft===4&&Pi(t,je,Mn,!1)),gr(t))}function Tv(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ys(t,r),h=l?Gw(t,r):jd(t,r,!0),d=l;do{if(h===0){Ga&&!l&&Pi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Hw(a)){h=jd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var w=t;h=Al;var I=w.current.memoizedState.isDehydrated;if(I&&($a(w,b).flags|=256),b=jd(w,b,!1),b!==2){if(Id&&!I){w.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),Pi(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Pi(l,r,Mn,!Ci);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-An(),10<h)){if(Pi(l,r,Mn,!Ci),fa(l,0,!0)!==0)break e;l.timeoutHandle=Wv(wv.bind(null,l,a,un,xc,Nd,r,Mn,Gs,Ka,Ci,d,2,-0,0),h);break e}wv(l,a,un,xc,Nd,r,Mn,Gs,Ka,Ci,d,0,-0,0)}}break}while(!0);gr(t)}function wv(t,r,a,l,h,d,b,w,I,F,X,ee,G,K){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:AA},gv(r),ee=RA(),ee!==null)){t.cancelPendingCommit=ee(Nv.bind(null,t,r,d,a,l,h,b,w,I,X,1,G,K)),Pi(t,d,b,!F);return}Nv(t,r,d,a,l,h,b,w,I)}function Hw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pi(t,r,a,l){r&=~Cd,r&=~Gs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Yt(h),b=1<<d;l[d]=-1,h&=~b}a!==0&&tr(t,a,r)}function Ic(){return(Ge&6)===0?(Rl(0),!1):!0}function Md(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Fr=Ls=null,Zf(t),Ba=null,gl=0,t=De;for(;t!==null;)nv(t.alternate,t),t=t.return;De=null}}function $a(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,oA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Md(),et=t,De=a=Br(t.current,null),je=r,Ke=0,En=null,Ci=!1,Ga=ys(t,r),Id=!1,Ka=Mn=Cd=Gs=Ni=ft=0,un=Al=null,Nd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Yt(l),d=1<<h;r|=t[h],l&=~d}return Zr=r,Xu(),a}function Av(t,r){xe=null,$.H=pc,r===ol||r===sc?(r=Bg(),Ke=3):r===Ug?(r=Bg(),Ke=4):Ke=r===qy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,De===null&&(ft=1,Ec(t,Nn(r,t.current)))}function Sv(){var t=$.H;return $.H=pc,t===null?pc:t}function Rv(){var t=$.A;return $.A=Bw,t}function Vd(){ft=4,Ci||(je&4194048)!==je&&kn.current!==null||(Ga=!0),(Ni&134217727)===0&&(Gs&134217727)===0||et===null||Pi(et,je,Mn,!1)}function jd(t,r,a){var l=Ge;Ge|=2;var h=Sv(),d=Rv();(et!==t||je!==r)&&(xc=null,$a(t,r)),r=!1;var b=ft;e:do try{if(Ke!==0&&De!==null){var w=De,I=En;switch(Ke){case 8:Md(),b=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var F=Ke;if(Ke=0,En=null,Xa(t,w,I,F),a&&Ga){b=0;break e}break;default:F=Ke,Ke=0,En=null,Xa(t,w,I,F)}}Fw(),b=ft;break}catch(X){Av(t,X)}while(!0);return r&&t.shellSuspendCounter++,Fr=Ls=null,Ge=l,$.H=h,$.A=d,De===null&&(et=null,je=0,Xu()),b}function Fw(){for(;De!==null;)xv(De)}function Gw(t,r){var a=Ge;Ge|=2;var l=Sv(),h=Rv();et!==t||je!==r?(xc=null,Rc=An()+500,$a(t,r)):Ga=ys(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=En;t:switch(Ke){case 1:Ke=0,En=null,Xa(t,r,d,1);break;case 2:case 9:if(Lg(d)){Ke=0,En=null,Iv(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),gr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Lg(d)?(Ke=0,En=null,Iv(r)):(Ke=0,En=null,Xa(t,r,d,7));break;case 5:var b=null;switch(De.tag){case 26:b=De.memoizedState;case 5:case 27:var w=De;if(!b||u_(b)){Ke=0,En=null;var I=w.sibling;if(I!==null)De=I;else{var F=w.return;F!==null?(De=F,Cc(F)):De=null}break t}}Ke=0,En=null,Xa(t,r,d,5);break;case 6:Ke=0,En=null,Xa(t,r,d,6);break;case 8:Md(),ft=6;break e;default:throw Error(s(462))}}Kw();break}catch(X){Av(t,X)}while(!0);return Fr=Ls=null,$.H=l,$.A=h,Ge=a,De!==null?0:(et=null,je=0,Xu(),ft)}function Kw(){for(;De!==null&&!No();)xv(De)}function xv(t){var r=ev(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,r===null?Cc(t):De=r}function Iv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Yy(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=Yy(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Zf(r);default:nv(a,r),r=De=Cg(r,Zr),r=ev(a,r,Zr)}t.memoizedProps=t.pendingProps,r===null?Cc(t):De=r}function Xa(t,r,a,l){Fr=Ls=null,Zf(r),Ba=null,gl=0;var h=r.return;try{if(Mw(t,h,r,a,je)){ft=1,Ec(t,Nn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,Ec(t,Nn(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:Ga||(je&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cv(r,t)):Cc(r)}function Cc(t){var r=t;do{if((r.flags&32768)!==0){Cv(r,Ci);return}t=r.return;var a=jw(r.alternate,r,Zr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ft===0&&(ft=5)}function Cv(t,r){do{var a=Uw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function Nv(t,r,a,l,h,d,b,w,I){t.cancelPendingCommit=null;do Nc();while(Ht!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,Vo(t,a,d,b,w,I),t===et&&(De=et=null,je=0),Qa=r,Oi=t,Ya=a,Od=d,Pd=h,Ev=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Xw(ds,function(){return Mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=le.p,le.p=2,b=Ge,Ge|=4;try{Lw(t,r,a)}finally{Ge=b,le.p=h,$.T=l}}Ht=1,Dv(),Ov(),Pv()}}function Dv(){if(Ht===1){Ht=0;var t=Oi,r=Qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{dv(r,t);var d=$d,b=_g(t.containerInfo),w=d.focusedElem,I=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&vg(w.ownerDocument.documentElement,w)){if(I!==null&&Tf(w)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),Te=w.textContent.length,ve=Math.min(I.start,Te),Xe=I.end===void 0?ve:Math.min(I.end,Te);!K.extend&&ve>Xe&&(b=Xe,Xe=ve,ve=b);var z=yg(w,ve),M=yg(w,Xe);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=ee.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),ve>Xe?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for(ee=[],K=w;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}qc=!!Yd,$d=Yd=null}finally{Ge=h,le.p=l,$.T=a}}t.current=r,Ht=2}}function Ov(){if(Ht===2){Ht=0;var t=Oi,r=Qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{uv(t,r.alternate,r)}finally{Ge=h,le.p=l,$.T=a}}Ht=3}}function Pv(){if(Ht===4||Ht===3){Ht=0,Su();var t=Oi,r=Qa,a=Ya,l=Ev;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Qa=Oi=null,kv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Di=null),da(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=le.p,le.p=2,$.T=null;try{for(var d=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];d(w.value,{componentStack:w.stack})}}finally{$.T=r,le.p=h}}(Ya&3)!==0&&Nc(),gr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===kd?Sl++:(Sl=0,kd=t):Sl=0,Rl(0)}}function kv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,sl(r)))}function Nc(t){return Dv(),Ov(),Pv(),Mv()}function Mv(){if(Ht!==5)return!1;var t=Oi,r=Od;Od=0;var a=da(Ya),l=$.T,h=le.p;try{le.p=32>a?32:a,$.T=null,a=Pd,Pd=null;var d=Oi,b=Ya;if(Ht=0,Qa=Oi=null,Ya=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,vv(d.current),pv(d,d.current,b,a),Ge=w,Rl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{le.p=h,$.T=l,kv(t,r)}}function Vv(t,r,a){r=Nn(a,r),r=fd(t.stateNode,r,2),t=Ti(t,r,2),t!==null&&(Nr(t,2),gr(t))}function We(t,r,a){if(t.tag===3)Vv(t,t,a);else for(;r!==null;){if(r.tag===3){Vv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Di===null||!Di.has(l))){t=Nn(a,t),a=zy(2),l=Ti(r,a,2),l!==null&&(By(a,l,r,t),Nr(l,2),gr(l));break}}r=r.return}}function Ud(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Id=!0,h.add(a),t=Qw.bind(null,t,r,a),r.then(t,t))}function Qw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(je&a)===a&&(ft===4||ft===3&&(je&62914560)===je&&300>An()-Dd?(Ge&2)===0&&$a(t,0):Cd|=a,Ka===je&&(Ka=0)),gr(t)}function jv(t,r){r===0&&(r=Mo()),t=Da(t,r),t!==null&&(Nr(t,r),gr(t))}function Yw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),jv(t,a)}function $w(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),jv(t,a)}function Xw(t,r){return hs(t,r)}var Dc=null,Wa=null,Ld=!1,Oc=!1,zd=!1,Ks=0;function gr(t){t!==Wa&&t.next===null&&(Wa===null?Dc=Wa=t:Wa=Wa.next=t),Oc=!0,Ld||(Ld=!0,Zw())}function Rl(t,r){if(!zd&&Oc){zd=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=h&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Bv(l,d))}else d=je,d=fa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,Bv(l,d));l=l.next}while(a);zd=!1}}function Ww(){Uv()}function Uv(){Oc=Ld=!1;var t=0;Ks!==0&&(aA()&&(t=Ks),Ks=0);for(var r=An(),a=null,l=Dc;l!==null;){var h=l.next,d=Lv(l,r);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Rl(t)}function Lv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var b=31-Yt(d),w=1<<b,I=h[b];I===-1?((w&a)===0||(w&l)!==0)&&(h[b]=Po(w,r)):I<=r&&(t.expiredLanes|=w),d&=~w}if(r=et,a=je,a=fa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&fs(l),da(a)){case 2:case 8:a=ca;break;case 32:a=ds;break;case 268435456:a=ha;break;default:a=ds}return l=zv.bind(null,t),a=hs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function zv(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=je;return l=fa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Tv(t,l,r),Lv(t,An()),t.callbackNode!=null&&t.callbackNode===a?zv.bind(null,t):null)}function Bv(t,r){if(Nc())return null;Tv(t,r,!0)}function Zw(){lA(function(){(Ge&6)!==0?hs(Do,Ww):Uv()})}function Bd(){return Ks===0&&(Ks=ko()),Ks}function qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function Hv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Jw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=qv((h[yt]||null).action),b=l.submitter;b&&(r=(r=b[yt]||null)?qv(r.formAction):b.getAttribute("formAction"),r!==null&&(d=r,b=null));var w=new Ea("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var I=b?Hv(h,b):new FormData(h);od(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=b?Hv(h,b):new FormData(h),od(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var qd=0;qd<Rf.length;qd++){var Hd=Rf[qd],eA=Hd.toLowerCase(),tA=Hd[0].toUpperCase()+Hd.slice(1);Hn(eA,"on"+tA)}Hn(Tg,"onAnimationEnd"),Hn(wg,"onAnimationIteration"),Hn(Ag,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(vw,"onTransitionRun"),Hn(_w,"onTransitionStart"),Hn(Ew,"onTransitionCancel"),Hn(Sg,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Fv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var b=l.length-1;0<=b;b--){var w=l[b],I=w.instance,F=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=F;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}else for(b=0;b<l.length;b++){if(w=l[b],I=w.instance,F=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=F;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[Uo];a===void 0&&(a=r[Uo]=new Set);var l=t+"__bubble";a.has(l)||(Gv(r,t,2,!1),a.add(l))}function Fd(t,r,a){var l=0;r&&(l|=4),Gv(a,t,l,r)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Pc]){t[Pc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Pc]||(r[Pc]=!0,Fd("selectionchange",!1,r))}}function Gv(t,r,a,l){switch(p_(r)){case 2:var h=CA;break;case 8:h=NA;break;default:h=sm}a=h.bind(null,r,a,t),h=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Kd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=Dr(w),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=d=b;continue e}w=w.parentNode}}l=l.return}Mu(function(){var F=d,X=xn(a),ee=[];e:{var G=Rg.get(t);if(G!==void 0){var K=Ea,Te=t;switch(t){case"keypress":if(or(a)===0)break e;case"keydown":case"keyup":K=Ra;break;case"focusin":Te="focus",K=wa;break;case"focusout":Te="blur",K=wa;break;case"beforeblur":case"afterblur":K=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Hu;break;case Tg:case wg:case Ag:K=Aa;break;case Sg:K=Gu;break;case"scroll":case"scrollend":K=Vu;break;case"wheel":K=xa;break;case"copy":case"cut":case"paste":K=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Wo;break;case"toggle":case"beforetoggle":K=Qu}var ve=(r&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),z=ve?G!==null?G+"Capture":null:G;ve=[];for(var M=F,H;M!==null;){var Z=M;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=Ss(M,z),Z!=null&&ve.push(Il(M,Z,H))),Xe)break;M=M.return}0<ve.length&&(G=new K(G,Te,null,a,X),ee.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Mr&&(Te=a.relatedTarget||a.fromElement)&&(Dr(Te)||Te[Sn]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Te=a.relatedTarget||a.toElement,K=F,Te=Te?Dr(Te):null,Te!==null&&(Xe=u(Te),ve=Te.tag,Te!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(K=null,Te=F),K!==Te)){if(ve=Cn,Z="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Wo,Z="onPointerLeave",z="onPointerEnter",M="pointer"),Xe=K==null?G:rr(K),H=Te==null?G:rr(Te),G=new ve(Z,M+"leave",K,a,X),G.target=Xe,G.relatedTarget=H,Z=null,Dr(X)===F&&(ve=new ve(z,M+"enter",Te,a,X),ve.target=H,ve.relatedTarget=Xe,Z=ve),Xe=Z,K&&Te)t:{for(ve=K,z=Te,M=0,H=ve;H;H=Za(H))M++;for(H=0,Z=z;Z;Z=Za(Z))H++;for(;0<M-H;)ve=Za(ve),M--;for(;0<H-M;)z=Za(z),H--;for(;M--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=Za(ve),z=Za(z)}ve=null}else ve=null;K!==null&&Kv(ee,G,K,ve,!1),Te!==null&&Xe!==null&&Kv(ee,Xe,Te,ve,!0)}}e:{if(G=F?rr(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var fe=hg;else if(St(G))if(fg)fe=pw;else{fe=dw;var Ne=fw}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Fo(F.elementType)&&(fe=hg):fe=mw;if(fe&&(fe=fe(t,F))){zr(ee,fe,a,X);break e}Ne&&Ne(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&yi(G,"number",G.value)}switch(Ne=F?rr(F):window,t){case"focusin":(St(Ne)||Ne.contentEditable==="true")&&(Ia=Ne,wf=F,el=null);break;case"focusout":el=wf=Ia=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Eg(ee,a,X);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":Eg(ee,a,X)}var de;if(cr)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?Y(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(de=Ko()):(ar=X,vi="value"in ar?ar.value:ar.textContent,Me=!0)),Ne=kc(F,_e),0<Ne.length&&(_e=new $o(_e,t,null,a,X),ee.push({event:_e,listeners:Ne}),de?_e.data=de:(de=oe(a),de!==null&&(_e.data=de)))),(de=y?At(t,a):Ve(t,a))&&(_e=kc(F,"onBeforeInput"),0<_e.length&&(Ne=new $o("onBeforeInput","beforeinput",null,a,X),ee.push({event:Ne,listeners:_e}),Ne.data=de)),Jw(ee,t,F,a,X)}Fv(ee,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function kc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Ss(t,r),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kv(t,r,a,l,h){for(var d=r._reactName,b=[];a!==null&&a!==l;){var w=a,I=w.alternate,F=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||F===null||(I=F,h?(F=Ss(a,d),F!=null&&b.unshift(Il(a,F,I))):h||(F=Ss(a,d),F!=null&&b.push(Il(a,F,I)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var rA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(rA,`
`).replace(iA,"")}function Yv(t,r){return r=Qv(r),Qv(t)===r}function Mc(){}function $e(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(t,""+l);break;case"className":ir(t,"class",l);break;case"tabIndex":ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(r!=="object"){ir(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",h.name,h,null),$e(t,r,"formEncType",h.formEncType,h,null),$e(t,r,"formMethod",h.formMethod,h,null),$e(t,r,"formTarget",h.formTarget,h,null)):($e(t,r,"encType",h.encType,h,null),$e(t,r,"method",h.method,h,null),$e(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),gi(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,gi(t,a,l))}}function Qd(t,r,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):gi(t,a,l)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var b=a[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,b,a,null)}}h&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=d=b=h=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":b=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$e(t,r,l,X,a,null)}}Ts(t,d,w,I,F,b,h,!1),va(t);return;case"select":Oe("invalid",t),l=b=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:$e(t,r,h,w,a,null)}r=d,a=b,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:$e(t,r,b,w,a,null)}ws(t,l,h,d),va(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Oe(xl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,F,l,a,null)}return;default:if(Fo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(t,r,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&$e(t,r,w,l,a,null))}function sA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,w=null,I=null,F=null,X=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||$e(t,r,K,null,l,ee)}}for(var G in l){var K=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":b=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&$e(t,r,G,K,l,ee)}}pn(t,b,w,I,F,X,d,h);return;case"select":K=b=w=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==I&&$e(t,r,h,d,l,I)}r=w,a=b,l=K,G!=null?kr(t,!!a,G,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:$e(t,r,w,null,l,h)}for(b in l)if(h=l[b],d=a[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,r,b,h,l,d)}Qe(t,G,K);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:$e(t,r,Te,null,l,G)}for(I in l)if(G=l[I],K=a[I],l.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$e(t,r,I,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&$e(t,r,ve,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:$e(t,r,F,G,l,K)}return;default:if(Fo(r)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&Qd(t,r,Xe,void 0,l,G);for(X in l)G=l[X],K=a[X],!l.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Qd(t,r,X,G,l,K);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&$e(t,r,z,null,l,G);for(ee in l)G=l[ee],K=a[ee],!l.hasOwnProperty(ee)||G===K||G==null&&K==null||$e(t,r,ee,G,l,K)}var Yd=null,$d=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function $v(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function aA(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var Wv=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(t){return Zv.resolve(null).then(t).catch(uA)}:Wv;function uA(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Jv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Cl(b.documentElement),a&2&&Cl(b.body),a&4)for(a=b.head,Cl(a),b=a.firstChild;b;){var w=b.nextSibling,I=b.nodeName;b[vs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(h===0){t.removeChild(d),jl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(r)}function Zd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function hA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var em=null;function e_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function t_(t,r,a){switch(r=Vc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pi(t)}var Vn=new Map,n_=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jr=le.d;le.d={f:dA,r:mA,D:pA,C:gA,L:yA,m:vA,X:EA,S:_A,M:bA};function dA(){var t=Jr.f(),r=Ic();return t||r}function mA(t){var r=nr(t);r!==null&&r.tag===5&&r.type==="form"?Ty(r):Jr.r(t)}var Ja=typeof document>"u"?null:document;function r_(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),n_.has(h)||(n_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),dt(r),l.head.appendChild(r)))}}function pA(t){Jr.D(t),r_("dns-prefetch",t,null)}function gA(t,r){Jr.C(t,r),r_("preconnect",t,r)}function yA(t,r,a){Jr.L(t,r,a);var l=Ja;if(l&&t&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var d=h;switch(r){case"style":d=eo(t);break;case"script":d=to(t)}Vn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Vn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Nl(d))||r==="script"&&l.querySelector(Dl(d))||(r=l.createElement("link"),Ft(r,"link",t),dt(r),l.head.appendChild(r)))}}function vA(t,r){Jr.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Ft(l,"link",t),dt(l),a.head.appendChild(l)}}}function _A(t,r,a){Jr.S(t,r,a);var l=Ja;if(l&&t){var h=tn(l).hoistableStyles,d=eo(t);r=r||"default";var b=h.get(d);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Nl(d)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Vn.get(d))&&tm(t,a);var I=b=l.createElement("link");dt(I),Ft(I,"link",t),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Uc(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(d,b)}}}function EA(t,r){Jr.X(t,r);var a=Ja;if(a&&t){var l=tn(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=E({src:t,async:!0},r),(r=Vn.get(h))&&nm(t,r),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bA(t,r){Jr.M(t,r);var a=Ja;if(a&&t){var l=tn(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Vn.get(h))&&nm(t,r),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function i_(t,r,a,l){var h=(h=we.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=tn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=tn(h).hoistableStyles,b=d.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,b),(d=h.querySelector(Nl(t)))&&!d._p&&(b.instance=d,b.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||TA(h,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=tn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+vt(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function s_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function TA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),dt(r),t.head.appendChild(r))}function to(t){return'[src="'+vt(t)+'"]'}function Dl(t){return"script[async]"+t}function a_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Ft(l,"style",h),Uc(l,a.precedence,t),r.instance=l;case"stylesheet":h=eo(a.href);var d=t.querySelector(Nl(h));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=s_(a),(h=Vn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var b=d;return b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),Ft(d,"link",l),r.state.loading|=4,Uc(d,a.precedence,t),r.instance=d;case"script":return d=to(a.src),(h=t.querySelector(Dl(d)))?(r.instance=h,dt(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Uc(l,a.precedence,t));return r.instance}function Uc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Lc=null;function o_(t,r,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vs]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(r)||"";b=t+b;var w=l.get(b);w?w.push(d):l.set(b,[d])}}return l}function l_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function wA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function u_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function AA(){}function SA(t,r,a){if(Ol===null)throw Error(s(475));var l=Ol;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=eo(a.href),d=t.querySelector(Nl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=s_(a),(h=Vn.get(h))&&tm(a,h),d=d.createElement("link"),dt(d);var b=d;b._p=new Promise(function(w,I){b.onload=w,b.onerror=I}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function RA(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&rm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&rm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function rm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,r.forEach(xA,t),Bc=null,zc.call(t))}function xA(t,r){if(!(r.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),d=a.get(b)||l,d===l&&a.set(null,h),a.set(b,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Pl={$$typeof:W,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function IA(t,r,a,l,h,d,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function c_(t,r,a,l,h,d,b,w,I,F,X,ee){return t=new IA(t,r,a,b,w,I,F,ee),r=1,d===!0&&(r|=24),d=yn(3,null,null,r),t.current=d,d.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},qf(d),t}function h_(t){return t?(t=Oa,t):Oa}function f_(t,r,a,l,h,d){h=h_(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ti(t,l,r),a!==null&&(Tn(a,t,r),ul(a,t,r))}function d_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){d_(t,r),(t=t.alternate)&&d_(t,r)}function m_(t){if(t.tag===13){var r=Da(t,67108864);r!==null&&Tn(r,t,67108864),im(t,67108864)}}var qc=!0;function CA(t,r,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=2,sm(t,r,a,l)}finally{le.p=d,$.T=h}}function NA(t,r,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=8,sm(t,r,a,l)}finally{le.p=d,$.T=h}}function sm(t,r,a,l){if(qc){var h=am(l);if(h===null)Kd(t,r,l,Hc,a),g_(t,l);else if(OA(h,t,r,a,l))l.stopPropagation();else if(g_(t,l),r&4&&-1<DA.indexOf(t)){for(;h!==null;){var d=nr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=zn(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var I=1<<31-Yt(b);w.entanglements[1]|=I,b&=~I}gr(d),(Ge&6)===0&&(Rc=An()+500,Rl(0))}}break;case 13:w=Da(d,2),w!==null&&Tn(w,d,2),Ic(),im(d,2)}if(d=am(l),d===null&&Kd(t,r,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,r,l,null,a)}}function am(t){return t=xn(t),om(t)}var Hc=null;function om(t){if(Hc=null,t=Dr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Hc=t,null}function p_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case Do:return 2;case ca:return 8;case ds:case hf:return 32;case ha:return 268435456;default:return 32}default:return 32}}var lm=!1,Mi=null,Vi=null,ji=null,kl=new Map,Ml=new Map,Ui=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(t,r){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=nr(r),r!==null&&m_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function OA(t,r,a,l,h){switch(r){case"focusin":return Mi=Vl(Mi,t,r,a,l,h),!0;case"dragenter":return Vi=Vl(Vi,t,r,a,l,h),!0;case"mouseover":return ji=Vl(ji,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,Vl(kl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,r,a,l,h)),!0}return!1}function y_(t){var r=Dr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Iu(t.priority,function(){if(a.tag===13){var l=bn();l=fi(l);var h=Da(a,l);h!==null&&Tn(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mr=l,a.target.dispatchEvent(l),Mr=null}else return r=nr(a),r!==null&&m_(r),t.blockedOn=a,!1;r.shift()}return!0}function v_(t,r,a){Fc(t)&&a.delete(r)}function PA(){lm=!1,Mi!==null&&Fc(Mi)&&(Mi=null),Vi!==null&&Fc(Vi)&&(Vi=null),ji!==null&&Fc(ji)&&(ji=null),kl.forEach(v_),Ml.forEach(v_)}function Gc(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PA)))}var Kc=null;function __(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=nr(a);d!==null&&(t.splice(r,3),r-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function r(I){return Gc(I,t)}Mi!==null&&Gc(Mi,t),Vi!==null&&Gc(Vi,t),ji!==null&&Gc(ji,t),kl.forEach(r),Ml.forEach(r);for(var a=0;a<Ui.length;a++){var l=Ui[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ui.length&&(a=Ui[0],a.blockedOn===null);)y_(a),a.blockedOn===null&&Ui.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],b=h[yt]||null;if(typeof d=="function")b||__(a);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[yt]||null)w=b.formAction;else if(om(h)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),__(a)}}}function um(t){this._internalRoot=t}Qc.prototype.render=um.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();f_(a,l,t,r,null,null)},Qc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;f_(t.current,2,null,t,null,null),Ic(),r[Sn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=di();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ui.length&&r!==0&&r<Ui[a].priority;a++);Ui.splice(a,0,t),a===0&&y_(t)}};var E_=e.version;if(E_!=="19.1.0")throw Error(s(527,E_,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var kA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ct=Yc.inject(kA),Fe=Yc}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vy,d=jy,b=Uy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=c_(t,1,!1,null,null,a,l,h,d,b,w,null),t[Sn]=r.current,Gd(t),new um(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Vy,b=jy,w=Uy,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=c_(t,1,!0,r,a??null,l,h,d,b,w,I,F),r.context=h_(null),a=r.current,l=bn(),l=fi(l),h=bi(l),h.callback=null,Ti(a,h,l),a=l,r.current.lanes=a,Nr(r,a),gr(r),t[Sn]=r.current,Gd(t),new Qc(r)},Ll.version="19.1.0",Ll}var N_;function GA(){if(N_)return fm.exports;N_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=FA(),fm.exports}var KA=GA();const QA=yE(KA);var zl={},D_;function YA(){if(D_)return zl;D_=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=f,zl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,N){const P=new u,Q=S.length;if(Q<2)return P;const V=(N==null?void 0:N.decode)||E;let L=0;do{const J=S.indexOf("=",L);if(J===-1)break;const W=S.indexOf(";",L),re=W===-1?Q:W;if(J>re){L=S.lastIndexOf(";",J-1)+1;continue}const ae=m(S,L,J),me=p(S,J,ae),D=S.slice(ae,me);if(P[D]===void 0){let R=m(S,J+1,re),x=p(S,re,R);const k=V(S.slice(R,x));P[D]=k}L=re+1}while(L<Q);return P}function m(S,N,P){do{const Q=S.charCodeAt(N);if(Q!==32&&Q!==9)return N}while(++N<P);return P}function p(S,N,P){for(;N>P;){const Q=S.charCodeAt(--N);if(Q!==32&&Q!==9)return N+1}return P}function g(S,N,P){const Q=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const V=Q(N);if(!e.test(V))throw new TypeError(`argument val is invalid: ${N}`);let L=S+"="+V;if(!P)return L;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);L+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);L+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);L+="; Path="+P.path}if(P.expires){if(!T(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);L+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(L+="; HttpOnly"),P.secure&&(L+="; Secure"),P.partitioned&&(L+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return L}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return zl}YA();var O_="popstate";function $A(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ia(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Dm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Jl(u))}function s(o,u){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return WA(e,n,s,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Un(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function P_(i,e){return{usr:i.state,key:i.key,idx:e}}function Dm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||s||XA()}}function Jl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ia(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function WA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let V=E(),L=V==null?null:V-g;g=V,p&&p({action:m,location:Q.location,delta:L})}function S(V,L){m="PUSH";let J=Dm(Q.location,V,L);n&&n(J,V),g=E()+1;let W=P_(J,g),re=Q.createHref(J);try{f.pushState(W,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&p&&p({action:m,location:Q.location,delta:1})}function N(V,L){m="REPLACE";let J=Dm(Q.location,V,L);n&&n(J,V),g=E();let W=P_(J,g),re=Q.createHref(J);f.replaceState(W,"",re),u&&p&&p({action:m,location:Q.location,delta:0})}function P(V){let L=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof V=="string"?V:Jl(V);return J=J.replace(/ $/,"%20"),at(L,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,L)}let Q={get action(){return m},get location(){return i(o,f)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(O_,T),p=V,()=>{o.removeEventListener(O_,T),p=null}},createHref(V){return e(o,V)},createURL:P,encodeLocation(V){let L=P(V);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:N,go(V){return f.go(V)}};return Q}function vE(i,e,n="/"){return ZA(i,e,n,!1)}function ZA(i,e,n,s){let o=typeof e=="string"?ia(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let f=_E(i);JA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=cS(u);m=lS(f[p],g,s)}return m}function _E(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ni([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_E(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:aS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of EE(u.path))o(u,f,p)}),e}function EE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=EE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function JA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:oS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var eS=/^:[\w-]+$/,tS=3,nS=2,rS=1,iS=10,sS=-2,k_=i=>i==="*";function aS(i,e){let n=i.split("/"),s=n.length;return n.some(k_)&&(s+=sS),e&&(s+=nS),n.filter(o=>!k_(o)).reduce((o,u)=>o+(eS.test(u)?tS:u===""?rS:iS),s)}function oS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function lS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ni([u,T.pathname]),pathnameBase:mS(ni([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ni([u,T.pathnameBase]))}return f}function ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=uS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let P=m[S]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const N=m[S];return T&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function uS(i,e=!1,n=!0){Un(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function hS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ia(i):i;return{pathname:n?n.startsWith("/")?n:fS(n,e):e,search:pS(s),hash:gS(o)}}function fS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function op(i){let e=dS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lp(i,e,n,s=!1){let o;typeof i=="string"?o=ia(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=hS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ni=i=>i.join("/").replace(/\/\/+/g,"/"),mS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),pS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,gS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var vS=["GET",...bE];new Set(vS);var Eo=B.createContext(null);Eo.displayName="DataRouter";var jh=B.createContext(null);jh.displayName="DataRouterState";var TE=B.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var _S=B.createContext(new Map);_S.displayName="Fetchers";var ES=B.createContext(null);ES.displayName="Await";var Wn=B.createContext(null);Wn.displayName="Navigation";var hu=B.createContext(null);hu.displayName="Location";var Zn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var up=B.createContext(null);up.displayName="RouteError";function bS(i,{relative:e}={}){at(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Wn),{hash:o,pathname:u,search:f}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ni([n,u])),s.createHref({pathname:m,search:f,hash:o})}function bo(){return B.useContext(hu)!=null}function ci(){return at(bo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hu).location}var wE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(i){B.useContext(Wn).static||B.useLayoutEffect(i)}function Jn(){let{isDataRoute:i}=B.useContext(Zn);return i?kS():TS()}function TS(){at(bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Eo),{basename:e,navigator:n}=B.useContext(Wn),{matches:s}=B.useContext(Zn),{pathname:o}=ci(),u=JSON.stringify(op(s)),f=B.useRef(!1);return AE(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(Un(f.current,wE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=lp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ni([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}B.createContext(null);function cp(){let{matches:i}=B.useContext(Zn),e=i[i.length-1];return e?e.params:{}}function fu(i,{relative:e}={}){let{matches:n}=B.useContext(Zn),{pathname:s}=ci(),o=JSON.stringify(op(n));return B.useMemo(()=>lp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wS(i,e){return SE(i,e)}function SE(i,e,n,s){var J;at(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(Wn),{matches:f}=B.useContext(Zn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";RE(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=ci(),N;if(e){let W=typeof e=="string"?ia(e):e;at(E==="/"||((J=W.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),N=W}else N=S;let P=N.pathname||"/",Q=P;if(E!=="/"){let W=E.replace(/^\//,"").split("/");Q="/"+P.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=!u&&n&&n.matches&&n.matches.length>0?n.matches:vE(i,{pathname:Q});Un(T||V!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Un(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=IS(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:ni([E,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:ni([E,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,n,s);return e&&L?B.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},L):L}function AS(){let i=PS(),e=yS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var SS=B.createElement(AS,null),RS=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(Zn.Provider,{value:this.props.routeContext},B.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xS({routeContext:i,match:e,children:n}){let s=B.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Zn.Provider,{value:i},n)}function IS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:T}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,S=!1,N=null,P=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||SS,f&&(m<0&&E===0?(RE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,P=null):m===E&&(S=!0,P=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),V=()=>{let L;return T?L=N:S?L=P:g.route.Component?L=B.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,B.createElement(xS,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?B.createElement(RS,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:V(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):V()},null)}function hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(i){let e=B.useContext(Eo);return at(e,hp(i)),e}function NS(i){let e=B.useContext(jh);return at(e,hp(i)),e}function DS(i){let e=B.useContext(Zn);return at(e,hp(i)),e}function fp(i){let e=DS(i),n=e.matches[e.matches.length-1];return at(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function OS(){return fp("useRouteId")}function PS(){var s;let i=B.useContext(up),e=NS("useRouteError"),n=fp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function kS(){let{router:i}=CS("useNavigate"),e=fp("useNavigate"),n=B.useRef(!1);return AE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Un(n.current,wE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var M_={};function RE(i,e,n){!e&&!M_[i]&&(M_[i]=!0,Un(!1,n))}B.memo(MS);function MS({routes:i,future:e,state:n}){return SE(i,void 0,n,e)}function vr({to:i,replace:e,state:n,relative:s}){at(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Wn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Zn),{pathname:f}=ci(),m=Jn(),p=lp(i,op(u),f,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function cn(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ia(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:S="default"}=n,N=B.useMemo(()=>{let P=si(p,f);return P==null?null:{location:{pathname:P,search:g,hash:E,state:T,key:S},navigationType:s}},[f,p,g,E,T,S,s]);return Un(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:B.createElement(Wn.Provider,{value:m},B.createElement(hu.Provider,{children:e,value:N}))}function jS({children:i,location:e}){return wS(Om(i),e)}function Om(i,e=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Om(s.props.children,u));return}at(s.type===cn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var rh="get",ih="application/x-www-form-urlencoded";function Uh(i){return i!=null&&typeof i.tagName=="string"}function US(i){return Uh(i)&&i.tagName.toLowerCase()==="button"}function LS(i){return Uh(i)&&i.tagName.toLowerCase()==="form"}function zS(i){return Uh(i)&&i.tagName.toLowerCase()==="input"}function BS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function qS(i,e){return i.button===0&&(!e||e==="_self")&&!BS(i)}var $c=null;function HS(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var FS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!FS.has(i)?(Un(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):i}function GS(i,e){let n,s,o,u,f;if(LS(i)){let m=i.getAttribute("action");s=m?si(m,e):null,n=i.getAttribute("method")||rh,o=ym(i.getAttribute("enctype"))||ih,u=new FormData(i)}else if(US(i)||zS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?si(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||rh,o=ym(i.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||ih,u=new FormData(m,i),!HS()){let{name:g,type:E,value:T}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Uh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=ih,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function dp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function KS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function YS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await KS(u,n);return f.links?f.links():[]}return[]}));return ZS(s.flat(1).filter(QS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $S(i,e,{includeHydrateFallback:n}={}){return XS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function XS(i){return[...new Set(i)]}function WS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function ZS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(WS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var JS=new Set([100,101,204,205]);function eR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&si(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function xE(){let i=B.useContext(Eo);return dp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tR(){let i=B.useContext(jh);return dp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var mp=B.createContext(void 0);mp.displayName="FrameworkContext";function IE(){let i=B.useContext(mp);return dp(i,"You must render this element inside a <HydratedRouter> element"),i}function nR(i,e){let n=B.useContext(mp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,S=B.useRef(null);B.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=L=>{L.forEach(J=>{f(J.isIntersecting)})},V=new IntersectionObserver(Q,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),B.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let N=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,N),onBlur:Bl(p,P),onMouseEnter:Bl(g,N),onMouseLeave:Bl(E,P),onTouchStart:Bl(T,N)}]:[!1,S,{}]}function Bl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function rR({page:i,...e}){let{router:n}=xE(),s=B.useMemo(()=>vE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(sR,{page:i,matches:s,...e}):null}function iR(i){let{manifest:e,routeModules:n}=IE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return YS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function sR({page:i,matches:e,...n}){let s=ci(),{manifest:o,routeModules:u}=IE(),{basename:f}=xE(),{loaderData:m,matches:p}=tR(),g=B.useMemo(()=>V_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=B.useMemo(()=>V_(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,Q=!1;if(e.forEach(L=>{var W;let J=o.routes[L.route.id];!J||!J.hasLoader||(!g.some(re=>re.route.id===L.route.id)&&L.route.id in m&&((W=u[L.route.id])!=null&&W.shouldRevalidate)||J.hasClientLoader?Q=!0:P.add(L.route.id))}),P.size===0)return[];let V=eR(i,f);return Q&&P.size>0&&V.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[V.pathname+V.search]},[f,m,s,o,g,e,i,u]),S=B.useMemo(()=>$S(E,o),[E,o]),N=iR(E);return B.createElement(B.Fragment,null,T.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),N.map(({key:P,link:Q})=>B.createElement("link",{key:P,...Q})))}function aR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.5.3")}catch{}function oR({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=$A({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(VS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...S},N){let{basename:P}=B.useContext(Wn),Q=typeof g=="string"&&NE.test(g),V,L=!1;if(typeof g=="string"&&Q&&(V=g,CE))try{let x=new URL(window.location.href),k=g.startsWith("//")?new URL(x.protocol+g):new URL(g),j=si(k.pathname,P);k.origin===x.origin&&j!=null?g=j+k.search+k.hash:L=!0}catch{Un(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=bS(g,{relative:o}),[W,re,ae]=nR(s,S),me=hR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function D(x){e&&e(x),x.defaultPrevented||me(x)}let R=B.createElement("a",{...S,...ae,href:V||J,onClick:L||u?e:D,ref:aR(N,re),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return W&&!Q?B.createElement(B.Fragment,null,R,B.createElement(rR,{page:J})):R});st.displayName="Link";var lR=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=fu(f,{relative:g.relative}),S=ci(),N=B.useContext(jh),{navigator:P,basename:Q}=B.useContext(Wn),V=N!=null&&gR(T)&&m===!0,L=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,J=S.pathname,W=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(J=J.toLowerCase(),W=W?W.toLowerCase():null,L=L.toLowerCase()),W&&Q&&(W=si(W,Q)||W);const re=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ae=J===L||!o&&J.startsWith(L)&&J.charAt(re)==="/",me=W!=null&&(W===L||!o&&W.startsWith(L)&&W.charAt(L.length)==="/"),D={isActive:ae,isPending:me,isTransitioning:V},R=ae?e:void 0,x;typeof s=="function"?x=s(D):x=[s,ae?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return B.createElement(st,{...g,"aria-current":R,className:x,ref:E,style:k,to:f,viewTransition:m},typeof p=="function"?p(D):p)});lR.displayName="NavLink";var uR=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...S},N)=>{let P=mR(),Q=pR(m,{relative:g}),V=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&NE.test(m),J=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let re=W.nativeEvent.submitter,ae=(re==null?void 0:re.getAttribute("formmethod"))||f;P(re||W.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return B.createElement("form",{ref:N,method:V,action:Q,onSubmit:s?p:J,...S,"data-discover":!L&&i==="render"?"true":void 0})});uR.displayName="Form";function cR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(i){let e=B.useContext(Eo);return at(e,cR(i)),e}function hR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Jn(),p=ci(),g=fu(i,{relative:u});return B.useCallback(E=>{if(qS(E,e)){E.preventDefault();let T=n!==void 0?n:Jl(p)===Jl(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var fR=0,dR=()=>`__${String(++fR)}__`;function mR(){let{router:i}=DE("useSubmit"),{basename:e}=B.useContext(Wn),n=OS();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=GS(s,e);if(o.navigate===!1){let E=o.fetcherKey||dR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function pR(i,{relative:e}={}){let{basename:n}=B.useContext(Wn),s=B.useContext(Zn);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},f=ci();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ni([n,u.pathname])),Jl(u)}function gR(i,e={}){let n=B.useContext(TE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),o=fu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=si(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}new TextEncoder;[...JS];const yR=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(S=64)),s.push(n[E],n[T],n[S],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(OE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):vR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new _R;const S=u<<2|m>>4;if(s.push(S),g!==64){const N=m<<4&240|g>>2;if(s.push(N),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(i){const e=OE(i);return PE.encodeByteArray(e,!0)},gh=function(i){return ER(i).replace(/\./g,"")},kE=function(i){try{return PE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>bR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof j_>"u")return;const i=j_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&kE(i[1]);return e&&JSON.parse(e)},Lh=()=>{try{return yR()||TR()||wR()||AR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ME=i=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},VE=i=>{const e=ME(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>{var i;return(i=Lh())===null||i===void 0?void 0:i.config},UE=i=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function xR(){var i;const e=(i=Lh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DR(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function OR(){return!xR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FirebaseError";class Rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=MR,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?VR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Rr(o,m,s)}}function VR(i,e){return i.replace(jR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function UR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xi(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(U_(u)&&U_(f)){if(!Xi(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function U_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function LR(i,e){const n=new zR(i,e);return n.subscribe.bind(n)}class zR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");BR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i){return i&&i._delegate?i._delegate:i}class Wi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new SR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(i){return i===Qs?void 0:i}function FR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const KR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},QR=Pe.INFO,YR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},$R=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=YR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=$R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const XR=(i,e)=>e.some(n=>i instanceof n);let L_,z_;function WR(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,Pm=new WeakMap,BE=new WeakMap,_m=new WeakMap,gp=new WeakMap;function JR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Ki(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zE.set(n,i)}).catch(()=>{}),gp.set(e,i),e}function ex(i){if(Pm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pm.set(i,e)}let km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||BE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tx(i){km=i(km)}function nx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Em(this),e,...n);return BE.set(s,e.sort?e.sort():[e]),Ki(s)}:ZR().includes(i)?function(...e){return i.apply(Em(this),e),Ki(zE.get(this))}:function(...e){return Ki(i.apply(Em(this),e))}}function rx(i){return typeof i=="function"?nx(i):(i instanceof IDBTransaction&&ex(i),XR(i,WR())?new Proxy(i,km):i)}function Ki(i){if(i instanceof IDBRequest)return JR(i);if(_m.has(i))return _m.get(i);const e=rx(i);return e!==i&&(_m.set(i,e),gp.set(e,i)),e}const Em=i=>gp.get(i);function ix(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Ki(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ki(f.result),p.oldVersion,p.newVersion,Ki(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sx=["get","getKey","getAll","getAllKeys","count"],ax=["put","add","delete","clear"],bm=new Map;function B_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ax.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}tx(i=>({...i,get:(e,n,s)=>B_(e,n)||i.get(e,n,s),has:(e,n)=>!!B_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",q_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new pp("@firebase/app"),ux="@firebase/app-compat",cx="@firebase/analytics-compat",hx="@firebase/analytics",fx="@firebase/app-check-compat",dx="@firebase/app-check",mx="@firebase/auth",px="@firebase/auth-compat",gx="@firebase/database",yx="@firebase/data-connect",vx="@firebase/database-compat",_x="@firebase/functions",Ex="@firebase/functions-compat",bx="@firebase/installations",Tx="@firebase/installations-compat",wx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",Rx="@firebase/performance-compat",xx="@firebase/remote-config",Ix="@firebase/remote-config-compat",Cx="@firebase/storage",Nx="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/vertexai",Px="@firebase/firestore-compat",kx="firebase",Mx="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",Vx={[Mm]:"fire-core",[ux]:"fire-core-compat",[hx]:"fire-analytics",[cx]:"fire-analytics-compat",[dx]:"fire-app-check",[fx]:"fire-app-check-compat",[mx]:"fire-auth",[px]:"fire-auth-compat",[gx]:"fire-rtdb",[yx]:"fire-data-connect",[vx]:"fire-rtdb-compat",[_x]:"fire-fn",[Ex]:"fire-fn-compat",[bx]:"fire-iid",[Tx]:"fire-iid-compat",[wx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[Rx]:"fire-perf-compat",[xx]:"fire-rc",[Ix]:"fire-rc-compat",[Cx]:"fire-gcs",[Nx]:"fire-gcs-compat",[Dx]:"fire-fst",[Px]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,jx=new Map,jm=new Map;function H_(i,e){try{i.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xs(i){const e=i.name;if(jm.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,i);for(const n of yh.values())H_(n,i);for(const n of jx.values())H_(n,i);return!0}function zh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function fn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new du("app","Firebase",Ux);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=Mx;function qE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw Qi.create("no-options");const u=yh.get(o);if(u){if(Xi(n,u.options)&&Xi(s,u.config))return u;throw Qi.create("duplicate-app",{appName:o})}const f=new GR(o);for(const p of jm.values())f.addComponent(p);const m=new Lx(n,s,f);return yh.set(o,m),m}function yp(i=Vm){const e=yh.get(i);if(!e&&i===Vm&&jE())return qE();if(!e)throw Qi.create("no-app",{appName:i});return e}function Er(i,e,n){var s;let o=(s=Vx[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(m.join(" "));return}Xs(new Wi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="firebase-heartbeat-database",Bx=1,eu="firebase-heartbeat-store";let Tm=null;function HE(){return Tm||(Tm=ix(zx,Bx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qi.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function qx(i){try{const n=(await HE()).transaction(eu),s=await n.objectStore(eu).get(FE(i));return await n.done,s}catch(e){if(e instanceof Rr)ai.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function F_(i,e){try{const s=(await HE()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,FE(i)),await s.done}catch(n){if(n instanceof Rr)ai.warn(n.message);else{const s=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(s.message)}}}function FE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=1024,Fx=30;class Gx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=G_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Fx){const f=Yx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ai.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G_(),{heartbeatsToSend:s,unsentEntries:o}=Kx(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ai.warn(n),""}}}function G_(){return new Date().toISOString().substring(0,10)}function Kx(i,e=Hx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),K_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),K_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K_(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function Yx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(i){Xs(new Wi("platform-logger",e=>new ox(e),"PRIVATE")),Xs(new Wi("heartbeat",e=>new Gx(e),"PRIVATE")),Er(Mm,q_,i),Er(Mm,q_,"esm2017"),Er("fire-js","")}$x("");var Xx="firebase",Wx="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(Xx,Wx,"app");function vp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=GE,KE=new du("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new pp("@firebase/auth");function Jx(i,...e){vh.logLevel<=Pe.WARN&&vh.warn(`Auth (${sa}): ${i}`,...e)}function sh(i,...e){vh.logLevel<=Pe.ERROR&&vh.error(`Auth (${sa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(i,...e){throw Ep(i,...e)}function Yn(i,...e){return Ep(i,...e)}function _p(i,e,n){const s=Object.assign(Object.assign({},Zx()),{[e]:n});return new du("auth","Firebase",s).create(e,{appName:i.name})}function ri(i){return _p(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ln(i,"argument-error"),_p(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return KE.create(i,...e)}function Ee(i,e,...n){if(!i)throw Ep(e,...n)}function ei(i){const e="INTERNAL ASSERTION FAILED: "+i;throw sh(e),new Error(e)}function oi(i,e){i||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function tI(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tI()||CR()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=RR()||NR()}get(){return nI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i,e){oi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aI=new pu(3e4,6e4);function ss(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function as(i,e,n,s,o={}){return YE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return IR()||(g.referrerPolicy="no-referrer"),QE.fetch()(await $E(i,i.config.apiHost,n,m),g)})}async function YE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},iI),e);try{const o=new lI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _p(i,E,g);Ln(i,E)}}catch(o){if(o instanceof Rr)throw o;Ln(i,"network-request-failed",{message:String(o)})}}async function gu(i,e,n,s,o={}){const u=await as(i,e,n,s,o);return"mfaPendingCredential"in u&&Ln(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?bp(i.config,o):`${i.config.apiScheme}://${o}`;return sI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function oI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),aI.get())})}}function Xc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Yn(i,e,s);return o.customData._tokenResponse=n,o}function Y_(i){return i!==void 0&&i.enterprise!==void 0}class uI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cI(i,e){return as(i,"GET","/v2/recaptchaConfig",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,e){return as(i,"POST","/v1/accounts:delete",e)}async function _h(i,e){return as(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(i,e=!1){const n=Nt(i),s=await n.getIdToken(e),o=Tp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(wm(o.auth_time)),issuedAtTime:Yl(wm(o.iat)),expirationTime:Yl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(i){return Number(i)*1e3}function Tp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $_(i){const e=Tp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Rr&&dI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function dI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await tu(i,_h(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?XE(u.providerUserInfo):[],m=gI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Lm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function pI(i){const e=Nt(i);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function XE(i){return i.map(e=>{var{providerId:n}=e,s=vp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i,e){const n=await YE(i,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await $E(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",QE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vI(i,e){return as(i,"POST","/v2/accounts:revokeToken",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await yI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Lm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fI(this,e)}reload(){return pI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await tu(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,L=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:re,isAnonymous:ae,providerData:me,stsTokenManager:D}=n;Ee(W&&D,e,"internal-error");const R=ao.fromJSON(this.name,D);Ee(typeof W=="string",e,"internal-error"),zi(T,e.name),zi(S,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),zi(N,e.name),zi(P,e.name),zi(Q,e.name),zi(V,e.name),zi(L,e.name),zi(J,e.name);const x=new Kn({uid:W,auth:e,email:S,emailVerified:re,displayName:T,isAnonymous:ae,photoURL:P,phoneNumber:N,tenantId:Q,stsTokenManager:R,createdAt:L,lastLoginAt:J});return me&&Array.isArray(me)&&(x.providerData=me.map(k=>Object.assign({},k))),V&&(x._redirectEventId=V),x}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?XE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ao;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function ti(i){oi(i instanceof Function,"Expected a class definition");let e=X_.get(i);return e?(oi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,X_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WE.type="NONE";const W_=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,e,n){return`firebase:${i}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(ti(W_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ti(W_);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const S=await _h(e,{idToken:E}).catch(()=>{});if(!S)break;T=await Kn._fromGetAccountInfoResponse(e,S,E)}else T=Kn._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(ib(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||eb(e))&&!e.includes("edge/"))return"Chrome";if(nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ZE(i=en()){return/firefox\//i.test(i)}function JE(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eb(i=en()){return/crios\//i.test(i)}function tb(i=en()){return/iemobile/i.test(i)}function nb(i=en()){return/android/i.test(i)}function rb(i=en()){return/blackberry/i.test(i)}function ib(i=en()){return/webos/i.test(i)}function wp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _I(i=en()){var e;return wp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EI(){return DR()&&document.documentMode===10}function sb(i=en()){return wp(i)||nb(i)||ib(i)||rb(i)||/windows phone/i.test(i)||tb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i,e=[]){let n;switch(i){case"Browser":n=Z_(en());break;case"Worker":n=`${Z_(en())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(i,e={}){return as(i,"GET","/v2/passwordPolicy",ss(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class AI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:wI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(ri(this));const n=e?Nt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TI(this),n=new AI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Jx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(i){return Nt(i)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=LR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(i){Bh=i}function ob(i){return Bh.loadJS(i)}function xI(){return Bh.recaptchaEnterpriseScript}function II(){return Bh.gapiScript}function CI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new DI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OI="recaptcha-enterprise",lb="NO_RECAPTCHA";class PI{constructor(e){this.type=OI,this.auth=os(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{cI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new uI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Y_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(lb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Y_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xI();p.length!==0&&(p+=m),ob(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function e0(i,e,n,s=!1,o=!1){const u=new PI(i);let f;if(o)f=lb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await e0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await e0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(i,e){const n=zh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xi(u,e??{}))return o;Ln(o,"already-initialized")}return n.initialize({options:e})}function MI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function VI(i,e,n){const s=os(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ub(e),{host:f,port:m}=jI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Xi(g,s.config.emulator)&&Xi(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,UI()}function ub(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function jI(i){const e=ub(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:t0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:t0(f)}}}function t0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function UI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function LI(i,e){return as(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e){return gu(i,"POST","/v1/accounts:signInWithPassword",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(i,e){return gu(i,"POST","/v1/accounts:signInWithEmailLink",ss(i,e))}async function qI(i,e){return gu(i,"POST","/v1/accounts:signInWithEmailLink",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Ap{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signInWithPassword",zI);case"emailLink":return BI(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,s,"signUpPassword",LI);case"emailLink":return qI(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(i,e){return gu(i,"POST","/v1/accounts:signInWithIdp",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="http://localhost";class Ws extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=vp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:HI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GI(i){const e=ql(Hl(i)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(i)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||i}class Sp{constructor(e){var n,s,o,u,f,m;const p=ql(Hl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=FI((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=GI(e);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Sp.parseLink(n);return Ee(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends yu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends yu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(i,e){return gu(i,"POST","/v1/accounts:signUp",ss(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=n0(s);return new Zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=n0(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function n0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Rr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function cb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(i,u,e,s):u})}async function QI(i,e,n=!1){const s=await tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Zs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e,n=!1){const{auth:s}=i;if(fn(s.app))return Promise.reject(ri(s));const o="reauthenticate";try{const u=await tu(i,cb(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=Tp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Zs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ln(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(i,e,n=!1){if(fn(i.app))return Promise.reject(ri(i));const s="signIn",o=await cb(i,s,e),u=await Zs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function $I(i,e){return hb(os(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(i){const e=os(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XI(i,e,n){if(fn(i.app))return Promise.reject(ri(i));const s=os(i),f=await zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fb(i),p}),m=await Zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function WI(i,e,n){return fn(i.app)?Promise.reject(ri(i)):$I(Nt(i),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fb(i),s})}function ZI(i,e,n,s){return Nt(i).onIdTokenChanged(e,n,s)}function JI(i,e,n){return Nt(i).beforeAuthStateChanged(e,n)}function e1(i,e,n,s){return Nt(i).onAuthStateChanged(e,n,s)}function t1(i){return Nt(i).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=1e3,r1=10;class mb extends db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);EI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,r1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},n1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const i1=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pb.type="SESSION";const gb=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await s1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=xp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function o1(i){br().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function l1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function c1(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebaseLocalStorageDb",h1=1,wh="firebaseLocalStorage",_b="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function f1(){const i=indexedDB.deleteDatabase(vb);return new vu(i).toPromise()}function Bm(){const i=indexedDB.open(vb,h1);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(wh,{keyPath:_b})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(wh)?e(s):(s.close(),await f1(),e(await Bm()))})})}async function r0(i,e,n){const s=Hh(i,!0).put({[_b]:e,value:n});return new vu(s).toPromise()}async function d1(i,e){const n=Hh(i,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function i0(i,e){const n=Hh(i,!0).delete(e);return new vu(n).toPromise()}const m1=800,p1=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>p1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(c1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await l1(),!this.activeServiceWorker)return;this.sender=new a1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await r0(e,Th,"1"),await i0(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>d1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Hh(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const g1=Eb;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(i,e){return e?ti(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function y1(i){return hb(i.auth,new Ip(i),i.bypassAuthState)}function v1(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),YI(n,new Ip(i),i.bypassAuthState)}async function _1(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),QI(n,new Ip(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y1;case"linkViaPopup":case"linkViaRedirect":return _1;case"reauthViaPopup":case"reauthViaRedirect":return v1;default:Ln(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new pu(2e3,1e4);async function wb(i,e,n){if(fn(i.app))return Promise.reject(Yn(i,"operation-not-supported-in-this-environment"));const s=os(i);eI(i,e,Rp);const o=bb(s,n);return new Ys(s,"signInViaPopup",e,o).executeNotNull()}class Ys extends Tb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E1.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="pendingRedirect",oh=new Map;class T1 extends Tb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await w1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w1(i,e){const n=R1(e),s=S1(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function A1(i,e){oh.set(i._key(),e)}function S1(i){return ti(i._redirectPersistence)}function R1(i){return ah(b1,i.config.apiKey,i.name)}async function x1(i,e,n=!1){if(fn(i.app))return Promise.reject(ri(i));const s=os(i),o=bb(s,e),f=await new T1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=10*60*1e3;class C1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Ab(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I1&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ab({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N1(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(i,e={}){return as(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P1=/^https?/;async function k1(i){if(i.config.emulator)return;const{authorizedDomains:e}=await D1(i);for(const n of e)try{if(M1(n))return}catch{}Ln(i,"unauthorized-domain")}function M1(i){const e=Um(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!P1.test(n))return!1;if(O1.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new pu(3e4,6e4);function a0(){const i=br().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function j1(i){return new Promise((e,n)=>{var s,o,u;function f(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(Yn(i,"network-request-failed"))},timeout:V1.get()})}if(!((o=(s=br().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=br().gapi)===null||u===void 0)&&u.load)f();else{const m=CI("iframefcb");return br()[m]=()=>{gapi.load?f():n(Yn(i,"network-request-failed"))},ob(`${II()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw lh=null,e})}let lh=null;function U1(i){return lh=lh||j1(i),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new pu(5e3,15e3),z1="__/auth/iframe",B1="emulator/auth/iframe",q1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F1(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?bp(e,B1):`https://${i.config.authDomain}/${z1}`,s={apiKey:e.apiKey,appName:i.name,v:sa},o=H1.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function G1(i){const e=await U1(i),n=br().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:F1(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Yn(i,"network-request-failed"),m=br().setTimeout(()=>{u(f)},L1.get());function p(){br().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q1=500,Y1=600,$1="_blank",X1="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W1(i,e,n,s=Q1,o=Y1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},K1),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=eb(g)?$1:n),ZE(g)&&(e=e||X1,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[N,P])=>`${S}${N}=${P},`,"");if(_I(g)&&m!=="_self")return Z1(e||"",m),new o0(null);const T=window.open(e||"",m,E);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new o0(T)}function Z1(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="__/auth/handler",eC="emulator/auth/handler",tC=encodeURIComponent("fac");async function l0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:sa,eventId:o};if(e instanceof Rp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",UR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof yu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${tC}=${encodeURIComponent(p)}`:"";return`${nC(i)}?${mu(m).slice(1)}${g}`}function nC({config:i}){return i.emulator?bp(i,eC):`https://${i.authDomain}/${J1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class rC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=x1,this._overrideRedirectResult=A1}async _openPopup(e,n,s,o){var u;oi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await l0(e,n,s,Um(),o);return W1(e,f,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await l0(e,n,s,Um(),o);return o1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await G1(e),s=new C1(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Am];f!==void 0&&n(!!f),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sb()||JE()||wp()}}const iC=rC;var u0="@firebase/auth",c0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oC(i){Xs(new Wi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(i)},g=new SI(s,o,u,p);return MI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Wi("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(s=>new sC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(u0,c0,aC(i)),Er(u0,c0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=5*60,uC=UE("authIdTokenMaxAge")||lC;let h0=null;const cC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uC)return;const o=n==null?void 0:n.token;h0!==o&&(h0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hC(i=yp()){const e=zh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=kI(i,{popupRedirectResolver:iC,persistence:[g1,i1,gb]}),s=UE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=cC(u.toString());JI(n,f,()=>f(n.currentUser)),ZI(n,m=>f(m))}}const o=ME("auth");return o&&VI(n,`http://${o}`),n}function fC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}RI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Yn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",fC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oC("Browser");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,Sb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function x(){}x.prototype=R.prototype,D.D=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(k,j,U){for(var C=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)C[Lt-2]=arguments[Lt];return R.prototype[j].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,x){x||(x=0);var k=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)k[j]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(j=0;16>j;++j)k[j]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],j=D.g[2];var U=D.g[3],C=R+(U^x&(j^U))+k[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+k[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+k[2]+606105819&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+k[3]+3250441966&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(U^x&(j^U))+k[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+k[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+k[6]+2821735955&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+k[7]+4249261313&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(U^x&(j^U))+k[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+k[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+k[10]+4294925233&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+k[11]+2304563134&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(U^x&(j^U))+k[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(j^R&(x^j))+k[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=j+(x^U&(R^x))+k[14]+2792965006&4294967295,j=U+(C<<17&4294967295|C>>>15),C=x+(R^j&(U^R))+k[15]+1236535329&4294967295,x=j+(C<<22&4294967295|C>>>10),C=R+(j^U&(x^j))+k[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+k[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+k[11]+643717713&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+k[0]+3921069994&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(j^U&(x^j))+k[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+k[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+k[15]+3634488961&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+k[4]+3889429448&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(j^U&(x^j))+k[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+k[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+k[3]+4107603335&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+k[8]+1163531501&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(j^U&(x^j))+k[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^j&(R^x))+k[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=j+(R^x&(U^R))+k[7]+1735328473&4294967295,j=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(j^U))+k[12]+2368359562&4294967295,x=j+(C<<20&4294967295|C>>>12),C=R+(x^j^U)+k[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+k[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+k[11]+1839030562&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+k[14]+4259657740&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(x^j^U)+k[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+k[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+k[7]+4139469664&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+k[10]+3200236656&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(x^j^U)+k[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+k[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+k[3]+3572445317&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+k[6]+76029189&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(x^j^U)+k[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^j)+k[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=j+(U^R^x)+k[15]+530742520&4294967295,j=U+(C<<16&4294967295|C>>>16),C=x+(j^U^R)+k[2]+3299628645&4294967295,x=j+(C<<23&4294967295|C>>>9),C=R+(j^(x|~U))+k[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+k[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+k[14]+2878612391&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+k[5]+4237533241&4294967295,x=j+(C<<21&4294967295|C>>>11),C=R+(j^(x|~U))+k[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+k[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+k[10]+4293915773&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+k[1]+2240044497&4294967295,x=j+(C<<21&4294967295|C>>>11),C=R+(j^(x|~U))+k[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+k[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+k[6]+2734768916&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+k[13]+1309151649&4294967295,x=j+(C<<21&4294967295|C>>>11),C=R+(j^(x|~U))+k[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~j))+k[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=j+(R^(U|~x))+k[2]+718787259&4294967295,j=U+(C<<15&4294967295|C>>>17),C=x+(U^(j|~R))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var x=R-this.blockSize,k=this.B,j=this.h,U=0;U<R;){if(j==0)for(;U<=x;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(k[j++]=D.charCodeAt(U++),j==this.blockSize){o(this,k),j=0;break}}else for(;U<R;)if(k[j++]=D[U++],j==this.blockSize){o(this,k),j=0;break}}this.h=j,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var x=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.u(D),D=Array(16),R=x=0;4>R;++R)for(var k=0;32>k;k+=8)D[x++]=this.g[R]>>>k&255;return D};function u(D,R){var x=m;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function f(D,R){this.h=R;for(var x=[],k=!0,j=D.length-1;0<=j;j--){var U=D[j]|0;k&&U==R||(x[j]=U,k=!1)}this.g=x}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return V(g(-D));for(var R=[],x=1,k=0;D>=x;k++)R[k]=D/x|0,x*=4294967296;return new f(R,0)}function E(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return V(E(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),k=T,j=0;j<D.length;j+=8){var U=Math.min(8,D.length-j),C=parseInt(D.substring(j,j+U),R);8>U?(U=g(Math.pow(R,U)),k=k.j(U).add(g(C))):(k=k.j(x),k=k.add(g(C)))}return k}var T=p(0),S=p(1),N=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-V(this).m();for(var D=0,R=1,x=0;x<this.g.length;x++){var k=this.i(x);D+=(0<=k?k:4294967296+k)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(Q(this))return"-"+V(this).toString(D);for(var R=g(Math.pow(D,6)),x=this,k="";;){var j=re(x,R).g;x=L(x,j.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=j,P(x))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function Q(D){return D.h==-1}i.l=function(D){return D=L(this,D),Q(D)?-1:P(D)?0:1};function V(D){for(var R=D.g.length,x=[],k=0;k<R;k++)x[k]=~D.g[k];return new f(x,~D.h).add(S)}i.abs=function(){return Q(this)?V(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],k=0,j=0;j<=R;j++){var U=k+(this.i(j)&65535)+(D.i(j)&65535),C=(U>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);k=C>>>16,U&=65535,C&=65535,x[j]=C<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function L(D,R){return D.add(V(R))}i.j=function(D){if(P(this)||P(D))return T;if(Q(this))return Q(D)?V(this).j(V(D)):V(V(this).j(D));if(Q(D))return V(this.j(V(D)));if(0>this.l(N)&&0>D.l(N))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,x=[],k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var j=0;j<D.g.length;j++){var U=this.i(k)>>>16,C=this.i(k)&65535,Lt=D.i(j)>>>16,ut=D.i(j)&65535;x[2*k+2*j]+=C*ut,J(x,2*k+2*j),x[2*k+2*j+1]+=U*ut,J(x,2*k+2*j+1),x[2*k+2*j+1]+=C*Lt,J(x,2*k+2*j+1),x[2*k+2*j+2]+=U*Lt,J(x,2*k+2*j+2)}for(k=0;k<R;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=R;k<2*R;k++)x[k]=0;return new f(x,0)};function J(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function W(D,R){this.g=D,this.h=R}function re(D,R){if(P(R))throw Error("division by zero");if(P(D))return new W(T,T);if(Q(D))return R=re(V(D),R),new W(V(R.g),V(R.h));if(Q(R))return R=re(D,V(R)),new W(V(R.g),R.h);if(30<D.g.length){if(Q(D)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,k=R;0>=k.l(D);)x=ae(x),k=ae(k);var j=me(x,1),U=me(k,1);for(k=me(k,2),x=me(x,2);!P(k);){var C=U.add(k);0>=C.l(D)&&(j=j.add(x),U=C),k=me(k,1),x=me(x,1)}return R=L(D,j.j(R)),new W(j,R)}for(j=T;0<=D.l(R);){for(x=Math.max(1,Math.floor(D.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=g(x),C=U.j(R);Q(C)||0<C.l(D);)x-=k,U=g(x),C=U.j(R);P(U)&&(U=S),j=j.add(U),D=L(D,C)}return new W(j,D)}i.A=function(D){return re(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)&D.i(k);return new f(x,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)|D.i(k);return new f(x,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],k=0;k<R;k++)x[k]=this.i(k)^D.i(k);return new f(x,this.h^D.h)};function ae(D){for(var R=D.g.length+1,x=[],k=0;k<R;k++)x[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(x,D.h)}function me(D,R){var x=R>>5;R%=32;for(var k=D.g.length-x,j=[],U=0;U<k;U++)j[U]=0<R?D.i(U+x)>>>R|D.i(U+x+1)<<32-R:D.i(U+x);return new f(j,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Yi=f}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rb,Fl,xb,uh,qm,Ib,Cb,Nb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in _))break e;_=_[q]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,q={next:function(){if(!A&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,q,Y){for(var oe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)oe[Me-2]=arguments[Me];return y.prototype[q].apply(A,oe)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function V(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const q=c.length||0,Y=A.length||0;c.length=q+Y;for(let oe=0;oe<Y;oe++)c[q+oe]=A[oe]}else c.push(A)}}class L{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ae=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function me(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)c[_]=A[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function j(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Lt{constructor(){this.h=this.g=null}add(y,_){const A=ut.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new L(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,ze=new Lt,O=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{re(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}P(Ce,se);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function er(c,y,_,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=q,this.key=++Je,this.da=this.fa=!1}function hi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,y,_,A,q){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=hs(c,y,A,q);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new er(y,this.src,Y,!!A,q),y.fa=_,c.push(y)),y};function cs(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],q=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(A,q,1),Y&&(hi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function hs(c,y,_,A){for(var q=0;q<c.length;++q){var Y=c[q];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return q}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),No={};function Su(c,y,_,A,q){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Su(c,y[Y],_,A,q);return null}return _=Ru(_),c&&c[Dt]?c.K(y,_,g(A)?!!A.capture:!1,q):An(c,y,_,!1,A,q)}function An(c,y,_,A,q,Y){if(!y)throw Error("Invalid event type");var oe=g(q)?!!q.capture:!!q,Me=ha(c);if(Me||(c[fs]=Me=new Ir(c)),_=Me.add(y,_,A,oe,Y),_.proxy)return _;if(A=cf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ye||(q=oe),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(ds(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cf(){function c(_){return y.call(c.src,c.listener,_)}const y=hf;return c}function Do(c,y,_,A,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Do(c,y[Y],_,A,q);else A=g(A)?!!A.capture:!!A,_=Ru(_),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=hs(Y,_,A,q),-1<_&&(hi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ha(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,_,A,q)),(_=-1<c?y[c]:null)&&ca(_))}function ca(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])cs(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ds(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=ha(y))?(cs(_,c),_.h==0&&(_.src=null,y[fs]=null)):hi(c)}}}function ds(c){return c in No?No[c]:No[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ca(c),c=_.call(A,y)}return c}function ha(c){return c=c[fs],c instanceof Ir?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function ct(){ue.call(this),this.i=new Ir(this),this.M=this,this.F=null}P(ct,ue),ct.prototype[Dt]=!0,ct.prototype.removeEventListener=function(c,y,_,A){Do(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var q=y;y=new se(A,c),k(y,q)}if(q=!0,_)for(var Y=_.length-1;0<=Y;Y--){var oe=y.g=_[Y];q=mn(oe,A,!0,y)&&q}if(oe=y.g=c,q=mn(oe,A,!0,y)&&q,q=mn(oe,A,!1,y)&&q,_)for(Y=0;Y<_.length;Y++)oe=y.g=_[Y],q=mn(oe,A,!1,y)&&q}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)hi(_[A]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ct.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function mn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==_){var Me=oe.listener,At=oe.ha||oe.src;oe.fa&&cs(c.i,oe),q=Me.call(At,A)!==!1&&q}}return q&&!A.defaultPrevented}function Yt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function xu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){ue.call(this),this.h=c,this.g={}}P(ms,ue);var ps=[];function gs(c){me(c.g,function(y,_){this.g.hasOwnProperty(_)&&ca(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),gs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,fa=m.JSON.parse,ys=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function Mo(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){se.call(this,"d")}P(Nr,se);function Vo(){se.call(this,"c")}P(Vo,se);var tr={},jo=null;function fi(){return jo=jo||new ct}tr.La="serverreachability";function da(c){se.call(this,tr.La,c)}P(da,se);function di(c){const y=fi();Fe(y,new da(y))}tr.STAT_EVENT="statevent";function Iu(c,y){se.call(this,tr.STAT_EVENT,c),this.stat=y}P(Iu,se);function rt(c){const y=fi();Fe(y,new Iu(y,c))}tr.Ma="timingevent";function wt(c,y){se.call(this,tr.Ma,c),this.size=y}P(wt,se);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Uo(c,y,_,A,q,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Me=Y.split("&"),At=0;At<Me.length;At++){var Ve=Me[At].split("=");if(1<Ve.length){var Pt=Ve[0];Ve=Ve[1];var St=Pt.split("_");oe=2<=St.length&&St[1]=="type"?oe+(Pt+"="+Ve+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+_+`
`+oe})}function df(c,y,_,A,q,Y,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+_+`
`+Y+" "+oe})}function mi(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vs(c,_)+(A?" "+A:"")})}function Cu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function vs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return zn(_)}catch{return y}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function rr(){}P(rr,Po),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},nr=new rr;function tn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Lo={},ma={};function Bn(c,y,_){c.L=1,c.v=ws(pn(y)),c.m=_,c.P=!0,Or(c,null)}function Or(c,y){c.F=Date.now(),_s(c),c.A=pn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Go(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dt,c.g=Gu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ps[0]=q.toString()),q=ps);for(var Y=0;Y<q.length;Y++){var oe=Su(_,q[Y],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),di(),Uo(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const St=Cn(this.g);var y=this.g.Ba();const zr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||St!=4||y==7||(y==8||0>=zr?di(3):di(2)),gi(this);var _=this.g.Z();this.X=_;t:if(Nu(this)){var A=ju(this.g);c="";var q=A.length,Y=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ir(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==q-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,df(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,At=this.g;if((Me=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)mi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,_);else{this.o=!1,this.s=3,rt(12),zt(this),ir(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<oe.length;)if(Bt=Du(this,oe),Bt==ma){St==4&&(this.s=4,rt(14),_=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Lo){this.s=4,rt(15),mi(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else mi(this.i,this.l,Bt,null),Es(this,Bt);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||oe.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)mi(this.i,this.l,oe,"[Invalid Chunked Response]"),zt(this),ir(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ds(Pt),Pt.M=!0,rt(11))}}else mi(this.i,this.l,oe,null),Es(this,oe);St==4&&zt(this),this.o&&!this.J&&(St==4?qu(this.j,this):(this.o=!1,_s(this)))}else vf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),zt(this),ir(this)}}}catch{}finally{}};function Nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Du(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ma:(_=Number(y.substring(_,A)),isNaN(_)?Lo:(A+=1,A+_>y.length?ma:(y=y.slice(A,A+_),c.C=A+_,y)))}tn.prototype.cancel=function(){this.J=!0,zt(this)};function _s(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(S(c.ba,c),y)}function gi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Cu(this.i,this.A),this.L!=2&&(di(),rt(17)),zt(this),this.s=2,ir(this)):Ou(this,this.S-c)};function ir(c){c.j.G==0||c.J||qu(c.j,c)}function zt(c){gi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Es(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||zo(_.h,c))){if(!c.K&&zo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ra(_),Aa(_);else break e;Xo(_),rt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(S(_.Za,_),6e3));if(1>=ga(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Lr(_,11)}else if((c.K||_.g==c)&&Ra(_),!J(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Ve=q[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Pt=Ve[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const St=Ve[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const zr=Ve[5];zr!=null&&typeof zr=="number"&&0<zr&&(A=1.5*zr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Bt=c.g;if(Bt){const hr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var Y=A.h;Y.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ya(Y,Y.h),Y.h=null))}if(A.D){const Zo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(A.ya=Zo,Qe(A.I,A.D,Zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var oe=c;if(A.qa=Fu(A,A.J?A.ia:null,A.W),oe.K){nn(A.h,oe);var Me=oe,At=A.L;At&&(Me.I=At),Me.B&&(gi(Me),_s(Me)),A.g=oe}else zu(A);0<_.i.length&&Sa(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Lr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Lr(_,7):Yo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}di(4)}catch{}}var Pu=class{constructor(c,y){this.g=c,this.map=y}};function Pr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ga(c){return c.h?1:c.g?c.g.size:0}function zo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ya(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pr.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function va(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=va(c),A=mf(c),q=A.length,Y=0;Y<q;Y++)y.call(void 0,A[Y],_&&_[Y],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),q=null;if(0<=A){var Y=c[_].substring(0,A);q=c[_].substring(A+1)}else Y=c[_];y(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var y=c.i,_=new Mr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),kr(this,_),this.m=c.m}else c&&(y=String(c).match(bs))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),yi(this,y[4]),this.l=Rn(y[5]||"",!0),kr(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(As(y,Ho,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(As(y,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(As(_,_.charAt(0)=="/"?gf:Fo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",As(_,_a)),c.join("")};function pn(c){return new vt(c)}function Ts(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function kr(c,y,_){y instanceof Mr?(c.i=y,Mu(c.i,c.h)):(_||(y=As(y,yf)),c.i=new Mr(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function ws(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ku),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Fo=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,_a=/#/g;function Mr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Mr.prototype,i.add=function(c,y){xn(this),this.i=null,c=sr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Vr(c,y){xn(c),y=sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jr(c,y){return xn(c),y=sr(c,y),c.g.has(y)}i.forEach=function(c,y){xn(this),this.g.forEach(function(_,A){_.forEach(function(q){c.call(y,q,A,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const q=c[A];for(let Y=0;Y<q.length;Y++)_.push(y[A])}return _},i.V=function(c){xn(this);let y=[];if(typeof c=="string")jr(this,c)&&(y=y.concat(this.g.get(sr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return xn(this),this.i=null,c=sr(this,c),jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,_){Vr(c,y),0<_.length&&(c.i=null,c.g.set(sr(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Y=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var q=Y;oe[A]!==""&&(q+="="+encodeURIComponent(String(oe[A]))),c.push(q)}}return this.i=c.join("&")};function sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Mu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(Vr(this,A),Go(this,q,_))},c)),c.j=y}function Ss(c,y){const _=new Sn;if(m.Image){const A=new Image;A.onload=N(In,_,"TestLoadImage: loaded",!0,y,A),A.onerror=N(In,_,"TestLoadImage: error",!1,y,A),A.onabort=N(In,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=N(In,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function qn(c,y){const _=new Sn,A=new AbortController,q=setTimeout(()=>{A.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(q),Y.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Rs(){this.g=new ys}function ar(c,y,_){const A=_||"";try{qo(c,function(q,Y){let oe=q;g(q)&&(oe=zn(q)),y.push(A+Y+"="+encodeURIComponent(oe))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}P(vi,Po),vi.prototype.g=function(){return new Ur(this.l,this.j)},vi.prototype.i=function(c){return function(){return c}}({});function Ur(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ur,ct),i=Ur.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,lr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?or(this):lr(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,or(this))},i.Qa=function(c){this.g&&(this.response=c,or(this))},i.ga=function(){this.g&&or(this)};function or(c){c.readyState=4,c.l=null,c.j=null,c.v=null,lr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return me(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function qe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(qe,ct);var Ea=/^https?$/i,xs=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?ko(this.o):ko(nr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Vu(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xs,y,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Vu(this,Y)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),ur(c)}function ba(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ur(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},i.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Yt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=oe===0){var q=String(c.D).match(bs)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!Ea.test(q?q.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<Cn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ba(c)}}finally{ur(c)}}}}function ur(c,y){if(c.g){Is(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fa(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var _=j(c[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[q]||[];y[q]=Y,Y.push(_)}D(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pr(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){rt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Fu(this,null,this.W),Sa(this)};function Yo(c){if(Uu(c),c.G==3){var y=c.U++,_=pn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Ns(c,_),y=new tn(c,c.j,y),y.L=2,y.v=ws(pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_s(y)}Hu(c)}function Aa(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Uu(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!pa(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||O(),pe||(le(),pe=!0),ze.add(y,c),c.B=0}}function _f(c,y){return ga(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(S(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new tn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Lu(this,q,y),_=pn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Ns(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Qo(Y)))+"&"+y:this.m&&Ot(_,this.m,Y)),ya(this.h,q),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),q.T=!0,Bn(q,_,null)):Bn(q,_,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||pa(this.h)||$o(this))};function $o(c,y){var _;y?_=y.l:_=c.U++;const A=pn(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),Ns(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Lu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ya(c.h,_),Bn(_,A,y)}function Ns(c,y){c.H&&me(c.H,function(_,A){Qe(y,A,_)}),c.l&&qo({},function(_,A){Qe(y,A,_)})}function Lu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var q=c.i;let Y=-1;for(;;){const oe=["count="+_];Y==-1?0<_?(Y=q[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Me=!0;for(let At=0;At<_;At++){let Ve=q[At].g;const Pt=q[At].map;if(Ve-=Y,0>Ve)Y=Math.max(0,q[At].g-100),Me=!1;else try{ar(Pt,oe,"req"+Ve+"_")}catch{A&&A(Pt)}}if(Me){A=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||O(),pe||(le(),pe=!0),ze.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(S(c.Fa,c),Wo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Aa(this),Bu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Ns(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ws(pn(y)),_.m=null,_.P=!0,Or(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Aa(this),Xo(this),rt(19))};function Ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var _=null;if(c.g==y){Ra(c),Ds(c),c.g=null;var A=2}else if(zo(c.h,y))_=y.D,nn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;A=fi(),Fe(A,new wt(A,_)),Sa(c)}else zu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&_f(c,y)||A==2&&Xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function Wo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Lr(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),A=c.Xa;const q=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(A,"https"),ws(A),q?Ss(A.toString(),_):qn(A.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var A=_ instanceof vt?pn(_):new vt(_);if(A.g!="")y&&(A.g=y+"."+A.g),yi(A,A.s);else{var q=m.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Y=new vt(null);A&&Ts(Y,A),y&&(Y.g=y),q&&yi(Y,q),_&&(Y.l=_),A=Y}return _=c.D,y=c.ya,_&&y&&Qe(A,_,y),Qe(A,"VER",c.la),Ns(c,A),A}function Gu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new vi({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ct.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}P(rn,ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Yo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new Pu(y.Ya++,c)),y.G==3&&Sa(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,rn.aa.N.call(this)};function Qu(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Qu,Nr);function Yu(){Vo.call(this),this.status=1}P(Yu,Vo);function cr(c){this.g=c}P(cr,Ku),cr.prototype.ua=function(){Fe(this.g,"a")},cr.prototype.ta=function(c){Fe(this.g,new Qu(c))},cr.prototype.sa=function(c){Fe(this.g,new Yu)},cr.prototype.ra=function(){Fe(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Nb=function(){return new xa},Cb=function(){return fi()},Ib=tr,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,uh=pi,Dr.COMPLETE="complete",xb=Dr,Mo.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Fl=Mo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Rb=qe}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",m0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new pp("@firebase/firestore");function no(){return Js.logLevel}function ce(i,...e){if(Js.logLevel<=Pe.DEBUG){const n=e.map(Cp);Js.debug(`Firestore (${wo}): ${i}`,...n)}}function li(i,...e){if(Js.logLevel<=Pe.ERROR){const n=e.map(Cp);Js.error(`Firestore (${wo}): ${i}`,...n)}}function co(i,...e){if(Js.logLevel<=Pe.WARN){const n=e.map(Cp);Js.warn(`Firestore (${wo}): ${i}`,...n)}}function Cp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Db(i,s,n)}function Db(i,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw li(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Db(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new Ob(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class gC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new p0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_C(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function Hm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=Pb(),f=EC(u.encode(g0(i,n)),u.encode(g0(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(i.length,e.length)}function g0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function EC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ie(i[n],e[n]);return Ie(i.length,e.length)}function ho(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,v0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*v0);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y0)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new It(0,0))}static max(){return new Ae(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__name__";class yr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=yr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=yr.isNumericId(e),o=yr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yr.extractNumericId(e).compare(yr.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class nt extends yr{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const bC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends yr{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return bC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Kt([_0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function TC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new Zi(o,ge.empty(),e)}function wC(i){return new Zi(i.readTime,i.key,ru)}class Zi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zi(Ae.min(),ge.empty(),ru)}static max(){return new Zi(Ae.max(),ge.empty(),ru)}}function AC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==SC)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function xC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Gh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function IC(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="";function CC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=E0(e)),e=NC(i.get(n),e);return E0(e)}function NC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Mb:n+="";break;default:n+=u}}return n}function E0(i){return i+Mb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ls(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Vb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Ct(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jb("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const DC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=DC.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function es(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",Lb="__type__",zb="__previous_value__",Bb="__local_write_time__";function Dp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lb])===null||n===void 0?void 0:n.stringValue)===Ub}function Kh(i){const e=i.mapValue.fields[zb];return Dp(e)?Kh(e):e}function iu(i){const e=Ji(i.mapValue.fields[Bb].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Sh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__type__",PC="__max__",Jc={mapValue:{}},Hb="__vector__",Rh="value";function ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Dp(i)?4:MC(i)?9007199254740991:kC(i)?10:11:be(28295,{value:i})}function Ar(i,e){if(i===e)return!0;const n=ts(i);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ji(o.timestampValue),m=Ji(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return ho(i.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(b0(f)!==b0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ar(f[p],m[p])))return!1;return!0}(i,e);default:return be(52216,{left:i})}}function au(i,e){return(i.values||[]).find(n=>Ar(n,e))!==void 0}function fo(i,e){if(i===e)return 0;const n=ts(i),s=ts(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return w0(i.timestampValue,e.timestampValue);case 4:return w0(iu(i),iu(e));case 5:return Hm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=es(u),p=es(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ie(m[g],p[g]);if(E!==0)return E}return Ie(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(gt(u.latitude),gt(f.latitude));return m!==0?m:Ie(gt(u.longitude),gt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return A0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const T=u.fields||{},S=f.fields||{},N=(m=T[Rh])===null||m===void 0?void 0:m.arrayValue,P=(p=S[Rh])===null||p===void 0?void 0:p.arrayValue,Q=Ie(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:A0(N,P)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=Hm(p[T],E[T]);if(S!==0)return S;const N=fo(m[p[T]],g[E[T]]);if(N!==0)return N}return Ie(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function w0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const n=Ji(i),s=Ji(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function A0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function mo(i){return Fm(i)}function Fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ji(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return es(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"}(i.mapValue):be(61005,{value:i})}function ch(i){switch(ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+ch(e):16;case 5:return 2*i.stringValue.length;case 6:return es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ch(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ls(s.fields,(u,f)=>{o+=u.length+ch(f)}),o}(i.mapValue);default:throw be(13486,{value:i})}}function S0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gm(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function R0(i){return!!i&&"nullValue"in i}function x0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hh(i){return!!i&&"mapValue"in i}function kC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[qb])===null||n===void 0?void 0:n.stringValue)===Hb}function $l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ls(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$l(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(i.arrayValue.values[n]);return e}return Object.assign({},i)}function MC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===PC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ls(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new dn($l(this.value))}}function Fb(i){const e=[];return ls(i.fields,(n,s)=>{const o=new Kt([n]);if(hh(s)){const u=Fb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Ae.min(),Ae.min(),Ae.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ae.min(),Ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ae.min(),Ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function I0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ar(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function VC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class Tt extends Gb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UC(e,n,s):n==="array-contains"?new BC(e,s):n==="in"?new qC(e,s):n==="not-in"?new HC(e,s):n==="array-contains-any"?new FC(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new LC(e,s):new zC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends Gb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $n(e,n)}matches(e){return Kb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Kb(i){return i.op==="and"}function Qb(i){return jC(i)&&Kb(i)}function jC(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function Km(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+mo(i.value);if(Qb(i))return i.filters.map(e=>Km(e)).join(",");{const e=i.filters.map(n=>Km(n)).join(",");return`${i.op}(${e})`}}function Yb(i,e){return i instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Ar(s.value,o.value)}(i,e):i instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Yb(f,o.filters[m]),!0):!1}(i,e):void be(19439)}function $b(i){return i instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(i):i instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map($b).join(" ,")+"}"}(i):"Filter"}class UC extends Tt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class LC extends Tt{constructor(e,n){super(e,"in",n),this.keys=Xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zC extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=Xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class BC extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&au(n.arrayValue,this.value)}}class qC extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class HC extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class FC extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function N0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new GC(i,e,n,s,o,u,f)}function Pp(i){const e=Se(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>mo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>mo(s)).join(",")),e.Ie=n}return e.Ie}function kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!VC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Yb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!C0(i.startAt,e.startAt)&&C0(i.endAt,e.endAt)}function Qm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KC(i,e,n,s,o,u,f,m){return new _u(i,e,n,s,o,u,f,m)}function Mp(i){return new _u(i)}function D0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Wb(i){return i.collectionGroup!==null}function Xl(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Ih(u,s))}),n.has(Kt.keyField().canonicalString())||e.Ee.push(new Ih(Kt.keyField(),s))}return e.Ee}function Tr(i){const e=Se(i);return e.de||(e.de=QC(e,Xl(i))),e.de}function QC(i,e){if(i.limitType==="F")return N0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ih(o.field,u)});const n=i.endAt?new xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new xh(i.startAt.position,i.startAt.inclusive):null;return N0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ym(i,e){const n=i.filters.concat([e]);return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function $m(i,e,n){return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qh(i,e){return kp(Tr(i),Tr(e))&&i.limitType===e.limitType}function Zb(i){return`${Pp(Tr(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>$b(o)).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>mo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>mo(o)).join(",")),`Target(${s})`}(Tr(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=I0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Xl(s),o)||s.endAt&&!function(f,m,p){const g=I0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Xl(s),o))}(i,e)}function YC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Jb(i){return(e,n)=>{let s=!1;for(const o of Xl(i)){const u=$C(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $C(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):be(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new lt(ge.comparator);function ui(){return XC}const eT=new lt(ge.comparator);function Gl(...i){let e=eT;for(const n of i)e=e.insert(n.key,n);return e}function tT(i){let e=eT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $s(){return Wl()}function nT(){return Wl()}function Wl(){return new aa(i=>i.toString(),(i,e)=>i.isEqual(e))}const WC=new lt(ge.comparator),ZC=new Ct(ge.comparator);function ke(...i){let e=ZC;for(const n of i)e=e.add(n);return e}const JC=new Ct(Ie);function eN(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function rT(i){return{integerValue:""+i}}function tN(i,e){return IC(e)?rT(e):Vp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function nN(i,e,n){return i instanceof ou?function(o,u){const f={fields:{[Lb]:{stringValue:Ub},[Bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Kh(u)),u&&(f.fields[zb]=u),{mapValue:f}}(n,e):i instanceof po?sT(i,e):i instanceof lu?aT(i,e):function(o,u){const f=iT(o,u),m=O0(f)+O0(o.Re);return Gm(f)&&Gm(o.Re)?rT(m):Vp(o.serializer,m)}(i,e)}function rN(i,e,n){return i instanceof po?sT(i,e):i instanceof lu?aT(i,e):n}function iT(i,e){return i instanceof Ch?function(s){return Gm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ou extends $h{}class po extends $h{constructor(e){super(),this.elements=e}}function sT(i,e){const n=oT(e);for(const s of i.elements)n.some(o=>Ar(o,s))||n.push(s);return{arrayValue:{values:n}}}class lu extends $h{constructor(e){super(),this.elements=e}}function aT(i,e){let n=oT(e);for(const s of i.elements)n=n.filter(o=>!Ar(o,s));return{arrayValue:{values:n}}}class Ch extends $h{constructor(e,n){super(),this.serializer=e,this.Re=n}}function O0(i){return gt(i.integerValue||i.doubleValue)}function oT(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.field=e,this.transform=n}}function iN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof po&&o instanceof po||s instanceof lu&&o instanceof lu?ho(s.elements,o.elements,Ar):s instanceof Ch&&o instanceof Ch?Ar(s.Re,o.Re):s instanceof ou&&o instanceof ou}(i.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Xh{}function uT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new jp(i.key,jn.none()):new Eu(i.key,i.data,jn.none());{const n=i.data,s=dn.empty();let o=new Ct(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(i.key,s,new wn(o.toArray()),jn.none())}}function aN(i,e,n){i instanceof Eu?function(o,u,f){const m=o.value.clone(),p=k0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof us?function(o,u,f){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=k0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(cT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Zl(i,e,n,s){return i instanceof Eu?function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=u.value.clone(),E=M0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof us?function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=M0(u.fieldTransforms,p,f),E=f.data;return E.setAll(cT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(u,f,m){return fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function oN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=iT(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function P0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,(u,f)=>iN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends Xh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends Xh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function k0(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,rN(f,m,n[o]))}return s}function M0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,nN(u,f,e))}return s}class jp extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=uT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,s)=>P0(n,s))&&ho(this.baseMutations,e.baseMutations,(n,s)=>P0(n,s))}}class Up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return WC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Up(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ue;function fN(i){switch(i){case ne.OK:return be(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function hT(i){if(i===void 0)return li("GRPC error has no .code"),ne.UNKNOWN;switch(i){case bt.OK:return ne.OK;case bt.CANCELLED:return ne.CANCELLED;case bt.UNKNOWN:return ne.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ne.INTERNAL;case bt.UNAVAILABLE:return ne.UNAVAILABLE;case bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case bt.NOT_FOUND:return ne.NOT_FOUND;case bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case bt.ABORTED:return ne.ABORTED;case bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case bt.DATA_LOSS:return ne.DATA_LOSS;default:return be(39323,{code:i})}}(Ue=bt||(bt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Yi([4294967295,4294967295],0);function V0(i){const e=Pb().encode(i),n=new Sb;return n.update(e),new Uint8Array(n.digest())}function j0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yi([n,s],0),new Yi([o,u],0)]}class Lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Yi.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Yi.fromNumber(s)));return o.compare(dN)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=V0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Lp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=V0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(Ae.min(),o,new lt(Ie),ui(),ke())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class fT{constructor(e,n){this.targetId=e,this.Ce=n}}class dT{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U0{constructor(){this.Fe=0,this.Me=L0(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}}),new bu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=L0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mN{constructor(e){this.ze=e,this.je=new Map,this.He=ui(),this.Je=eh(),this.Ye=eh(),this.Ze=new lt(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Qm(u))if(s===0){const f=new ge(u.path);this.tt(n,f,Jt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(p){if(p instanceof jb)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(f,o,u)}catch(p){return co(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Qm(m.target)){const p=new ge(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Jt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Wh(e,n,this.Ze,this.He,s);return this.He=ui(),this.Je=eh(),this.Ye=eh(),this.Ze=new lt(Ie),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new U0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new U0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function eh(){return new lt(ge.comparator)}function L0(){return new lt(ge.comparator)}const pN={asc:"ASCENDING",desc:"DESCENDING"},gN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yN={and:"AND",or:"OR"};class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _N(i,e){return Nh(i,e.toTimestamp())}function wr(i){return He(!!i,49232),Ae.fromTimestamp(function(n){const s=Ji(n);return new It(s.seconds,s.nanos)}(i))}function zp(i,e){return Wm(i,e).canonicalString()}function Wm(i,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function pT(i){const e=nt.fromString(i);return He(ET(e),10190,{key:e.toString()}),e}function Zm(i,e){return zp(i.databaseId,e.path)}function Sm(i,e){const n=pT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(yT(n))}function gT(i,e){return zp(i.databaseId,e)}function EN(i){const e=pT(i);return e.length===4?nt.emptyPath():yT(e)}function Jm(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function yT(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function z0(i,e,n){return{name:Zm(i,e),fields:n.value.mapValue.fields}}function bN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ne.UNKNOWN:hT(g.code);return new he(E,g.message||"")}(f);n=new dT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(i,s.document.name),u=wr(s.document.updateTime),f=s.document.createTime?wr(s.document.createTime):Ae.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(i,s.document),u=s.readTime?wr(s.readTime):Ae.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new dh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(i,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new hN(o,u),m=s.targetId;n=new fT(m,f)}}return n}function TN(i,e){let n;if(e instanceof Eu)n={update:z0(i,e.key,e.value)};else if(e instanceof jp)n={delete:Zm(i,e.key)};else if(e instanceof us)n={update:z0(i,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof lN))return be(16599,{ft:e.type});n={verify:Zm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ou)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof po)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw be(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:_N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(i,e.precondition)),n}function wN(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?wr(o.updateTime):wr(u);return f.isEqual(Ae.min())&&(f=wr(u)),new sN(f,o.transformResults||[])}(n,e))):[]}function AN(i,e){return{documents:[gT(i,e.path)]}}function SN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gT(i,o);const u=function(g){if(g.length!==0)return _T($n.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:io(S.field),direction:IN(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function RN(i){let e=EN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(T){const S=vT(T);return S instanceof $n&&Qb(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(S=>function(P){return new Ih(so(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(T){let S;return S=typeof T=="object"?T.value:T,Gh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(T){const S=!!T.before,N=T.values||[];return new xh(N,S)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const S=!T.before,N=T.values||[];return new xh(N,S)}(n.endAt)),KC(e,o,f,u,m,"F",p,g)}function xN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(i):i.fieldFilter!==void 0?function(n){return Tt.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(s=>vT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(i):be(30097,{filter:i})}function IN(i){return pN[i]}function CN(i){return gN[i]}function NN(i){return yN[i]}function io(i){return{fieldPath:i.canonicalString()}}function so(i){return Kt.fromServerFormat(i.fieldPath)}function _T(i){return i instanceof Tt?function(n){if(n.op==="=="){if(x0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(R0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(R0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:CN(n.op),value:n.value}}}(i):i instanceof $n?function(n){const s=n.getFilters().map(o=>_T(o));return s.length===1?s[0]:{compositeFilter:{op:NN(n.op),filters:s}}}(i):be(54877,{filter:i})}function DN(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ET(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.wt=e}}function PN(i){const e=RN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.yn=new MN}addToCollectionParentIndex(e,n){return this.yn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Zi.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class MN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(bT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new go(0)}static ir(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LruGarbageCollector",VN=1048576;function H0([i,e],[n,s]){const o=Ie(i,n);return o===0?Ie(e,s):o}class jN{constructor(e){this.cr=e,this.buffer=new Ct(H0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();H0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ce(q0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ce(q0,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Ir(3e5)})}}class LN{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Fh.le);const s=new jN(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(B0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),no()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function zN(i,e){return new LN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Zl(s.mutation,o,wn.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=$s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Gl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ui();const f=Wl(),m=function(){return Wl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Zl(E.mutation,g,E.mutation.getFieldMask(),It.now())):f.set(g.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var T;return m.set(g,new qN(E,(T=f.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new lt((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=nT();E.forEach(S=>{if(!u.has(S)){const N=uT(n.get(S),s.get(S));N!==null&&T.set(S,N),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve($s());let m=ru,p=u;return f.next(g=>te.forEach(g,(E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:tT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(T,S){return new _u(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,S)=>{f=f.insert(T,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))});let m=Gl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Zl(E.mutation,g,wn.empty(),It.now()),Yh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return te.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:PN(o.bundledQuery),readTime:wr(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.overlays=new lt(ge.comparator),this.Or=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cN(n,s));let u=this.Or.get(n);u===void 0&&(u=ke(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.Nr=new Ct(jt.Br),this.Lr=new Ct(jt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new jt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ge(new nt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ge(new nt([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ge.comparator(e.key,n.key)||Ie(e.Gr,n.Gr)}static kr(e,n){return Ie(e.Gr,n.Gr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ct(jt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Np:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ie);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),te.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Ct(Ie);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),te.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return te.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new jt(n,0),o=this.zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.Zr=e,this.docs=function(){return new lt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=ui();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ui();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||AC(wC(E),s)<=0||(o.has(E.key)||Yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}Xr(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new $N(this)}getSize(e){return te.resolve(this.size)}}class $N extends BN{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.persistence=e,this.ei=new aa(n=>Pp(n),kp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ti=0,this.ni=new Bp,this.targetCount=0,this.ri=go.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),te.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new go(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.ar(n),te.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.ii={},this.overlays={},this.si=new Fh(0),this.oi=!1,this.oi=!0,this._i=new KN,this.referenceDelegate=e(this),this.ai=new XN(this),this.indexManager=new kN,this.remoteDocumentCache=function(o){return new YN(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new ON(n),this.ci=new FN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new QN(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new WN(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return te.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class WN extends RC{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ti=new Bp,this.Ii=null}static Ei(e){return new qp(e)}get di(){if(this.Ii)return this.Ii;throw be(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,s=>{const o=ge.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return te.or([()=>te.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.Ri=new aa(s=>CC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=zN(this,n)}static Ei(e,n){return new Dh(e,n)}li(){}hi(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return te.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),te.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}gr(e,n,s){return te.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return OR()?8:xC(en())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ZN;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(no()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(no()<=Pe.DEBUG&&ce("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(no()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):te.resolve())}Rs(e,n){if(D0(n))return te.resolve(null);let s=Tr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(e,$m(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,s,o){return D0(n)||o.isEqual(Ae.min())?te.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?te.resolve(null):(no()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.ws(e,f,n,TC(o,ru)).next(m=>m))})}ps(e,n){let s=new Ct(Jb(e));return n.forEach((o,u)=>{Yh(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return no()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ro(n)),this.As.getDocumentsMatchingQuery(e,n,Zi.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",e2=3e8;class t2{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new lt(Ie),this.Ds=new aa(u=>Pp(u),kp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function n2(i,e,n,s){return new t2(i,e,n,s)}async function wT(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function r2(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const T=g.batch,S=T.keys();let N=te.resolve();return S.forEach(P=>{N=N.next(()=>E.getEntry(p,P)).next(Q=>{const V=g.docVersions.get(P);He(V!==null,48541),Q.version.compareTo(V)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function AT(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function i2(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,T)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(T,N),function(Q,V,L){return Q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=e2?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(S,N,E)&&m.push(n.ai.updateTargetData(u,N))});let p=ui(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(s2(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(Ae.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(T=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function s2(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ui();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function a2(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function o2(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Gi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function ep(i,e,n){const s=Se(i),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;ce(Fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function F0(i,e,n){const s=Se(i);let o=Ae.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const T=Se(p),S=T.Ds.get(E);return S!==void 0?te.resolve(T.Ss.get(S)):T.ai.getTargetData(g,E)}(s,f,Tr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:ke())).next(m=>(l2(s,YC(e),m),{documents:m,Ns:u})))}function l2(i,e,n){let s=i.vs.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class G0{constructor(){this.activeTargetIds=eN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u2{constructor(){this.So=new G0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new G0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="ConnectivityMonitor";class Q0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ce(K0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ce(K0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function tp(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=tp(),m=this.$o(e,n.toUriEncodedString());ce(Rm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(g=>(ce(Rm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw co(Rm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=h2[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class m2 extends f2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=tp();return new Promise((f,m)=>{const p=new Rb;p.setWithCredentials(!0),p.listenOnce(xb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const E=p.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case uh.TIMEOUT:ce(Wt,`RPC '${e}' ${u} timed out`),m(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const T=p.getStatus();if(ce(Wt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const P=function(V){const L=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN}(N.status);m(new he(P,N.message))}else m(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(ne.UNAVAILABLE,"Connection failed."));break;default:be(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}a_(e,n,s){const o=tp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Nb(),m=Cb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);let S=!1,N=!1;const P=new d2({Go:V=>{N?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},zo:()=>T.close()}),Q=(V,L,J)=>{V.listen(L,W=>{try{J(W)}catch(re){setTimeout(()=>{throw re},0)}})};return Q(T,Fl.EventType.OPEN,()=>{N||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),P.t_())}),Q(T,Fl.EventType.CLOSE,()=>{N||(N=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),P.r_())}),Q(T,Fl.EventType.ERROR,V=>{N||(N=!0,co(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),P.r_(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),Q(T,Fl.EventType.MESSAGE,V=>{var L;if(!N){const J=V.data[0];He(!!J,16349);const W=J,re=(W==null?void 0:W.error)||((L=W[0])===null||L===void 0?void 0:L.error);if(re){ce(Wt,`RPC '${e}' stream ${o} received error:`,re);const ae=re.status;let me=function(x){const k=bt[x];if(k!==void 0)return hT(k)}(ae),D=re.message;me===void 0&&(me=ne.INTERNAL,D="Unknown error status: "+ae+" with message "+re.message),N=!0,P.r_(new he(me,D)),T.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,J),P.i_(J)}}),Q(m,Ib.STAT_EVENT,V=>{V.stat===qm.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===qm.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.n_()},0),P}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i){return new vN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class RT{constructor(e,n,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ST(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ce(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ce(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p2 extends RT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=bN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?wr(f.readTime):Ae.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Qm(p)?{documents:AN(u,p)}:{query:SN(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mT(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=xN(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.F_(n)}}class g2 extends RT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=wN(e.writeResults,e.commitTime),s=wr(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=Jm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>TN(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{}class v2 extends y2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Wm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Wm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ne.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(li(n),this.ea=!1):ce("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class E2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{oa(this)&&(ce(ea,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.aa.add(4),await Tu(g),g.la.set("Unknown"),g.aa.delete(4),await Jh(g)}(this))})}),this.la=new _2(s,o)}}async function Jh(i){if(oa(i))for(const e of i.ua)await e(!0)}async function Tu(i){for(const e of i.ua)await e(!1)}function xT(i,e){const n=Se(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Yp(n)?Qp(n):Ro(n).b_()&&Kp(n,e))}function Gp(i,e){const n=Se(i),s=Ro(n);n._a.delete(e),s.b_()&&IT(n,e),n._a.size===0&&(s.b_()?s.v_():oa(n)&&n.la.set("Unknown"))}function Kp(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).U_(e)}function IT(i,e){i.ha.Ke(e),Ro(i).K_(e)}function Qp(i){i.ha=new mN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.la.ta()}function Yp(i){return oa(i)&&!Ro(i).w_()&&i._a.size>0}function oa(i){return Se(i).aa.size===0}function CT(i){i.ha=void 0}async function b2(i){i.la.set("Online")}async function T2(i){i._a.forEach((e,n)=>{Kp(i,e)})}async function w2(i,e){CT(i),Yp(i)?(i.la.ia(e),Qp(i)):i.la.set("Unknown")}async function A2(i,e,n){if(i.la.set("Online"),e instanceof dT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof dh?i.ha.Xe(e):e instanceof fT?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Ae.min()))try{const s=await AT(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),IT(u,p);const T=new Gi(E.target,p,g,E.sequenceNumber);Kp(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(ea,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,n){if(!So(e))throw e;i.aa.add(1),await Tu(i),i.la.set("Offline"),n||(n=()=>AT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ea,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await Jh(i)})}function NT(i,e){return e().catch(n=>Oh(i,n,e))}async function ef(i){const e=Se(i),n=ns(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Np;for(;S2(e);)try{const o=await a2(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,R2(e,o)}catch(o){await Oh(e,o)}DT(e)&&OT(e)}function S2(i){return oa(i)&&i.oa.length<10}function R2(i,e){i.oa.push(e);const n=ns(i);n.b_()&&n.W_&&n.G_(e.mutations)}function DT(i){return oa(i)&&!ns(i).w_()&&i.oa.length>0}function OT(i){ns(i).start()}async function x2(i){ns(i).H_()}async function I2(i){const e=ns(i);for(const n of i.oa)e.G_(n.mutations)}async function C2(i,e,n){const s=i.oa.shift(),o=Up.from(s,e,n);await NT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ef(i)}async function N2(i,e){e&&ns(i).W_&&await async function(s,o){if(function(f){return fN(f)&&f!==ne.ABORTED}(o.code)){const u=s.oa.shift();ns(s).D_(),await NT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ef(s)}}(i,e),DT(i)&&OT(i)}async function $0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const s=oa(n);n.aa.add(3),await Tu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Jh(n)}async function D2(i,e){const n=Se(i);e?(n.aa.delete(2),await Jh(n)):e||(n.aa.add(2),await Tu(n),n.la.set("Unknown"))}function Ro(i){return i.Pa||(i.Pa=function(n,s,o){const u=Se(n);return u.Y_(),new p2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:b2.bind(null,i),Jo:T2.bind(null,i),Zo:w2.bind(null,i),Q_:A2.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Yp(i)?Qp(i):i.la.set("Unknown")):(await i.Pa.stop(),CT(i))})),i.Pa}function ns(i){return i.Ta||(i.Ta=function(n,s,o){const u=Se(n);return u.Y_(),new g2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:x2.bind(null,i),Zo:N2.bind(null,i),z_:I2.bind(null,i),j_:C2.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await ef(i)):(await i.Ta.stop(),i.oa.length>0&&(ce(ea,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new $p(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(i,e){if(li("AsyncQueue",`${e}: ${i}`),So(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Ia=new lt(ge.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class yo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new yo(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class P2{constructor(){this.queries=W0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=W0(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function W0(){return new aa(i=>Zb(i),Qh)}async function PT(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new O2,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Wp(n)}async function kT(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function k2(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&Wp(n)}function M2(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function Wp(i){i.fa.forEach(e=>{e.next()})}var np,Z0;(Z0=np||(np={})).ya="default",Z0.Cache="cache";class MT{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class jT{constructor(e){this.key=e}}class V2{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=Jb(e),this.Ka=new uo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new X0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const S=o.get(E),N=Yh(this.query,T)?T:null,P=!!S&&this.mutatedKeys.has(S.key),Q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;S&&N?S.data.isEqual(N.data)?P!==Q&&(s.track({type:3,doc:N}),V=!0):this.ja(S,N)||(s.track({type:2,doc:N}),V=!0,(p&&this.Ua(N,p)>0||g&&this.Ua(N,g)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),V=!0):S&&!N&&(s.track({type:1,doc:S}),V=!0,(p||g)&&(m=!0)),V&&(N?(f=f.add(N),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,T)=>function(N,P){const Q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:V})}};return Q(N)-Q(P)}(E.type,T.type)||this.Ua(E.doc,T.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new yo(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new X0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new jT(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new VT(s))}),n}Xa(e){this.qa=e.Ns,this.$a=ke();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return yo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Zp="SyncEngine";class j2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class U2{constructor(e){this.key=e,this.tu=!1}}class L2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new aa(m=>Zb(m),Qh),this.iu=new Map,this.su=new Set,this.ou=new lt(ge.comparator),this._u=new Map,this.au=new Bp,this.uu={},this.cu=new Map,this.lu=go.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function z2(i,e,n=!0){const s=HT(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await UT(s,e,n,!0),o}async function B2(i,e){const n=HT(i);await UT(n,e,!0,!1)}async function UT(i,e,n,s){const o=await o2(i.localStore,Tr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await q2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&xT(i.remoteStore,o),m}async function q2(i,e,n,s,o){i.Pu=(T,S,N)=>async function(Q,V,L,J){let W=V.view.Ga(L);W.ys&&(W=await F0(Q.localStore,V.query,!1).then(({documents:D})=>V.view.Ga(D,W)));const re=J&&J.targetChanges.get(V.targetId),ae=J&&J.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges(W,Q.isPrimaryClient,re,ae);return eE(Q,V.targetId,me.Ya),me.snapshot}(i,T,S,N);const u=await F0(i.localStore,e,!0),f=new V2(e,u.Ns),m=f.Ga(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);eE(i,n,g.Ya);const E=new j2(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),g.snapshot}async function H2(i,e,n){const s=Se(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Qh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),rp(s,o.targetId)}).catch(Ao)):(rp(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function F2(i,e){const n=Se(i),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function G2(i,e,n){const s=Z2(i);try{const o=await function(f,m){const p=Se(f),g=It.now(),E=m.reduce((N,P)=>N.add(P.key),ke());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let P=ui(),Q=ke();return p.Cs.getEntries(N,E).next(V=>{P=V,P.forEach((L,J)=>{J.isValidDocument()||(Q=Q.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,P)).next(V=>{T=V;const L=[];for(const J of m){const W=oN(J,T.get(J.key).overlayedDocument);W!=null&&L.push(new us(J.key,W,Fb(W.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,L,m)}).next(V=>{S=V;const L=V.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(N,V.batchId,L)})}).then(()=>({batchId:S.batchId,changes:tT(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new lt(Ie)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await wu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function LT(i,e){const n=Se(i);try{const s=await i2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?He(f.tu,14607):o.removedDocuments.size>0&&(He(f.tu,42227),f.tu=!1))}),await wu(n,s,e)}catch(s){await Ao(s)}}function J0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,T)=>{for(const S of T.Ra)S.ga(m)&&(g=!0)}),g&&Wp(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function K2(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new lt(ge.comparator);f=f.insert(u,Jt.newNoDocument(u,Ae.min()));const m=ke().add(u),p=new Wh(Ae.min(),new Map,new lt(Ie),f,m);await LT(s,p),s.ou=s.ou.remove(u),s._u.delete(e),Jp(s)}else await ep(s.localStore,e,!1).then(()=>rp(s,e,n)).catch(Ao)}async function Q2(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await r2(n.localStore,e);BT(n,s,null),zT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await Ao(o)}}async function Y2(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(He(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);BT(s,e,n),zT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await Ao(o)}}function zT(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function BT(i,e,n){const s=Se(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function rp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||qT(i,s)})}function qT(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(Gp(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),Jp(i))}function eE(i,e,n){for(const s of n)s instanceof VT?(i.au.addReference(s.key,e),$2(i,s)):s instanceof jT?(ce(Zp,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||qT(i,s.key)):be(19791,{Iu:s})}function $2(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(ce(Zp,"New document in limbo: "+n),i.su.add(s),Jp(i))}function Jp(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new ge(nt.fromString(e)),s=i.lu.next();i._u.set(s,new U2(n)),i.ou=i.ou.insert(n,s),xT(i.remoteStore,new Gi(Tr(Mp(n.path)),s,"TargetPurposeLimboResolution",Fh.le))}}async function wu(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Hp.Ps(p.targetId,g);u.push(T)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,S=>te.forEach(S.ls,N=>E.persistence.referenceDelegate.addReference(T,S.targetId,N)).next(()=>te.forEach(S.hs,N=>E.persistence.referenceDelegate.removeReference(T,S.targetId,N)))))}catch(T){if(!So(T))throw T;ce(Fp,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const N=E.Ss.get(S),P=N.snapshotVersion,Q=N.withLastLimboFreeSnapshotVersion(P);E.Ss=E.Ss.insert(S,Q)}}}(s.localStore,u))}async function X2(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ce(Zp,"User change. New user:",e.toKey());const s=await wT(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new he(ne.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ms)}}function W2(i,e){const n=Se(i),s=n._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function HT(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K2.bind(null,e),e.nu.Q_=k2.bind(null,e.eventManager),e.nu.Tu=M2.bind(null,e.eventManager),e}function Z2(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y2.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return n2(this.persistence,new JN,e.initialUser,this.serializer)}Ru(e){return new TT(qp.Ei,this.serializer)}Au(e){return new u2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class J2 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof Dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UN(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new TT(s=>Dh.Ei(s,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X2.bind(null,this.syncEngine),await D2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P2}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=function(u){return new m2(u)}(e.databaseInfo);return function(u,f,m,p){return new v2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new E2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>J0(this.syncEngine,n,0),function(){return Q0.C()?new Q0:new c2}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const T=new L2(o,u,f,m,p,g);return E&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ce(ea,"RemoteStore shutting down."),u.aa.add(5),await Tu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class eD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Im(i,e){i.asyncQueue.verifyOperationInProgress(),ce(rs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await wT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function tE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await tD(i);ce(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>$0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>$0(e.remoteStore,o)),i._onlineComponents=e}async function tD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(rs,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Im(i,new Ph)}}else ce(rs,"Using default OfflineComponentProvider"),await Im(i,new J2(void 0));return i._offlineComponents}async function GT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(rs,"Using user provided OnlineComponentProvider"),await tE(i,i._uninitializedComponentsProvider._online)):(ce(rs,"Using default OnlineComponentProvider"),await tE(i,new ip))),i._onlineComponents}function nD(i){return GT(i).then(e=>e.syncEngine)}async function KT(i){const e=await GT(i),n=e.eventManager;return n.onListen=z2.bind(null,e.syncEngine),n.onUnlisten=H2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F2.bind(null,e.syncEngine),n}function rD(i,e,n={}){const s=new ii;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new FT({next:S=>{E.yu(),f.enqueueAndForget(()=>kT(u,T));const N=S.docs.has(m);!N&&S.fromCache?g.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new MT(Mp(m.path),E,{includeMetadataChanges:!0,Fa:!0});return PT(u,T)}(await KT(i),i.asyncQueue,e,n,s)),s.promise}function iD(i,e,n={}){const s=new ii;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new FT({next:S=>{E.yu(),f.enqueueAndForget(()=>kT(u,T)),S.fromCache&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new MT(m,E,{includeMetadataChanges:!0,Fa:!0});return PT(u,T)}(await KT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(i,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function sD(i,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function rE(i){if(!ge.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function iE(i){if(ge.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function Xn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",sE=!0;class aE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=sE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:sE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VN)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dC;switch(s.type){case"firstParty":return new yC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=nE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),nE.delete(n),s.terminate())}(this),Promise.resolve()}}function aD(i,e,n,s={}){var o;const u=(i=Xn(i,nf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==$T&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Xi(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=LE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}i._authCredentials=new mC(new Ob(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class an{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class $i extends xo{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ge(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function la(i,e,...n){if(i=Nt(i),YT("collection","path",e),i instanceof nf){const s=nt.fromString(e,...n);return iE(s),new $i(i,null,s)}{if(!(i instanceof an||i instanceof $i))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return iE(s),new $i(i.firestore,null,s)}}function Ut(i,e,...n){if(i=Nt(i),arguments.length===1&&(e=kb.newId()),YT("doc","path",e),i instanceof nf){const s=nt.fromString(e,...n);return rE(s),new an(i,null,new ge(s))}{if(!(i instanceof an||i instanceof $i))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return rE(s),new an(i.firestore,i instanceof $i?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ST(this,"async_queue_retry"),this.ju=()=>{const s=xm();s&&ce(oE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ii;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!So(e))throw e;ce(oE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,li("INTERNAL UNHANDLED ERROR: ",uE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&be(47125,{ec:uE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function uE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ua extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function oD(i,e){const n=typeof i=="object"?i:yp(),s=typeof i=="string"?i:Sh,o=zh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VE("firestore");u&&aD(o,...u)}return o}function eg(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lD(i),i._firestoreClient}function lD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new OC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,QT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new eD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(Qt.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class XT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{oc:i})}}class sf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return kh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(WT(this.oc)&&uD.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class hD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}dc(e,n,s,o=!1){return new sf({oc:e,methodName:n,Ec:s,path:Kt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(i){const e=i._freezeSettings(),n=Zh(i._databaseId);return new hD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ZT(i,e,n,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",f,s);const m=JT(s,f);let p,g;if(u.merge)p=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=sp(e,T,n);if(!f.contains(S))throw new he(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);tw(E,S)||E.push(S)}p=new wn(E),g=f.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=f.fieldTransforms;return new cD(new dn(m),p,g)}class of extends Au{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function fD(i,e,n){return new sf({oc:3,Ec:e.settings.Ec,methodName:i._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rg extends Au{_toFieldTransform(e){return new lT(e.path,new ou)}isEqual(e){return e instanceof rg}}class ig extends Au{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=fD(this,e,!0),s=this.Ac.map(u=>Io(u,n)),o=new po(s);return new lT(e.path,o)}isEqual(e){return e instanceof ig&&Xi(this.Ac,e.Ac)}}function dD(i,e,n,s){const o=i.dc(1,e,n);sg("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ls(s,(p,g)=>{const E=ag(e,p,n);g=Nt(g);const T=o.hc(E);if(g instanceof of)u.push(E);else{const S=Io(g,T);S!=null&&(u.push(E),f.set(E,S))}});const m=new wn(u);return new XT(f,m,o.fieldTransforms)}function mD(i,e,n,s,o,u){const f=i.dc(1,e,n),m=[sp(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(sp(e,u[S])),p.push(u[S+1]);const g=[],E=dn.empty();for(let S=m.length-1;S>=0;--S)if(!tw(g,m[S])){const N=m[S];let P=p[S];P=Nt(P);const Q=f.hc(N);if(P instanceof of)g.push(N);else{const V=Io(P,Q);V!=null&&(g.push(N),E.set(N,V))}}const T=new wn(g);return new XT(E,T,f.fieldTransforms)}function pD(i,e,n,s=!1){return Io(n,i.dc(s?4:3,e))}function Io(i,e){if(ew(i=Nt(i)))return sg("Unsupported field value:",e,i),JT(i,e);if(i instanceof Au)return function(s,o){if(!WT(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Io(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof tg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:mT(o.serializer,s._byteString)};if(s instanceof an){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ng)return function(f,m){return{mapValue:{fields:{[qb]:{stringValue:Hb},[Rh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${tf(s)}`)}(i,e)}function JT(i,e){const n={};return Vb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(i,(s,o)=>{const u=Io(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ew(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof tg||i instanceof vo||i instanceof an||i instanceof Au||i instanceof ng)}function sg(i,e,n){if(!ew(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=tf(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function sp(i,e,n){if((e=Nt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return ag(i,e);throw kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const gD=new RegExp("[~\\*/\\[\\]]");function ag(i,e,n){if(e.search(gD)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function kh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ne.INVALID_ARGUMENT,m+i+p)}function tw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yD extends nw{data(){return super.data()}}function og(i,e){return typeof e=="string"?ag(i,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class _D extends lg{}function ta(i,e,...n){let s=[];e instanceof lg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ug).length,m=u.filter(p=>p instanceof lf).length;if(f>1||f>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class lf extends _D{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return rw(e._query,n),new xo(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=af(e.firestore);return function(u,f,m,p,g,E,T){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){hE(T,E);const P=[];for(const Q of T)P.push(cE(p,u,Q));S={arrayValue:{values:P}}}else S=cE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||hE(T,E),S=pD(m,f,T,E==="in"||E==="not-in");return Tt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function na(i,e,n){const s=e,o=og("where",i);return lf._create(o,s,n)}class ug extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)rw(f,p),f=Ym(f,p)}(e._query,n),new xo(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cE(i,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wb(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ge.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return S0(i,new ge(s))}if(n instanceof an)return S0(i,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function hE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ED{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ls(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Rh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new ng(u)}convertGeoPoint(e){return new tg(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);He(ET(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sw extends nw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(og("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class mh extends sw{data(e={}){return super.data(e)}}class bD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(i){i=Xn(i,an);const e=Xn(i.firestore,ua);return rD(eg(e),i._key).then(n=>AD(e,i,n))}class aw extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function ra(i){i=Xn(i,xo);const e=Xn(i.firestore,ua),n=eg(e),s=new aw(e);return vD(i._query),iD(n,i._query).then(o=>new bD(e,s,i,o))}function uu(i,e,n){i=Xn(i,an);const s=Xn(i.firestore,ua),o=iw(i.converter,e,n);return uf(s,[ZT(af(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,jn.none())])}function cu(i,e,n,...s){i=Xn(i,an);const o=Xn(i.firestore,ua),u=af(o);let f;return f=typeof(e=Nt(e))=="string"||e instanceof rf?mD(u,"updateDoc",i._key,e,n,s):dD(u,"updateDoc",i._key,e),uf(o,[f.toMutation(i._key,jn.exists(!0))])}function wD(i){return uf(Xn(i.firestore,ua),[new jp(i._key,jn.none())])}function ow(i,e){const n=Xn(i.firestore,ua),s=Ut(i),o=iw(i.converter,e);return uf(n,[ZT(af(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function uf(i,e){return function(s,o){const u=new ii;return s.asyncQueue.enqueueAndForget(async()=>G2(await nD(s),o,u)),u.promise}(eg(i),e)}function AD(i,e,n){const s=n.docs.get(e._key),o=new aw(i);return new sw(i,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function is(){return new rg("serverTimestamp")}function SD(...i){return new ig("arrayUnion",i)}(function(e,n=!0){(function(o){wo=o})(sa),Xs(new Wi("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ua(new pC(s.getProvider("auth-internal")),new vC(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Er(d0,m0,e),Er(d0,m0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebasestorage.googleapis.com",RD="storageBucket",xD=2*60*1e3,ID=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Rr{constructor(e,n,s=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sr;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sr||(Sr={}));function Cm(i){return"storage/"+i}function CD(){const i="An unknown error occurred, please check the error payload for server response.";return new xr(Sr.UNKNOWN,i)}function ND(){return new xr(Sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DD(){return new xr(Sr.CANCELED,"User canceled the upload/download.")}function OD(i){return new xr(Sr.INVALID_URL,"Invalid URL '"+i+"'.")}function PD(i){return new xr(Sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function fE(i){return new xr(Sr.INVALID_ARGUMENT,i)}function uw(){return new xr(Sr.APP_DELETED,"The Firebase app was deleted.")}function kD(i){return new xr(Sr.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Qn.makeFromUrl(e,n)}catch{return new Qn(e,"")}if(s.path==="")return s;throw PD(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${E}/b/${o}/o${S}`,"i"),P={bucket:1,path:3},Q=n===lw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",L=new RegExp(`^https?://${Q}/${o}/${V}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:N,indices:P,postModify:g},{regex:L,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<W.length;re++){const ae=W[re],me=ae.regex.exec(e);if(me){const D=me[ae.indices.bucket];let R=me[ae.indices.path];R||(R=""),s=new Qn(D,R),ae.postModify(s);break}}if(s==null)throw OD(e);return s}}class MD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...V){g||(g=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,i(N,p())},V)}function S(){u&&clearTimeout(u)}function N(V,...L){if(g){S();return}if(V){S(),E.call(null,V,...L);return}if(p()||f){S(),E.call(null,V,...L);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,T(W)}let P=!1;function Q(V){P||(P=!0,S(),!g&&(o!==null?(V||(m=2),clearTimeout(o),T(0)):V||(m=1)))}return T(0),u=setTimeout(()=>{f=!0,Q(!0)},n),Q}function jD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){return i!==void 0}function dE(i,e,n,s){if(s<e)throw fE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw fE(`Invalid value for '${i}'. Expected ${n} or less.`)}function LD(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Mh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Mh||(Mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,s,o,u,f,m,p,g,E,T,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Mh.NO_ERROR,p=u.getStatus();if(!m||zD(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Mh.ABORT;s(!1,new nh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new nh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());UD(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=CD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?uw():DD();f(p)}else{const p=ND();f(p)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=VD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function qD(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function HD(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FD(i,e){e&&(i["X-Firebase-GMPID"]=e)}function GD(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function KD(i,e,n,s,o,u,f=!0){const m=LD(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return FD(g,e),qD(g,n),HD(g,u),GD(g,s),new BD(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function YD(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this._service=e,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vh(e,n)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YD(this._location.path)}get storage(){return this._service}get parent(){const e=QD(this._location.path);if(e===null)return null;const n=new Qn(this._location.bucket,e);return new Vh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kD(e)}}function mE(i,e){const n=e==null?void 0:e[RD];return n==null?null:Qn.makeFromBucketSpec(n,i)}function $D(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:LE(o,i.app.options.projectId))}class XD{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=lw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xD,this._maxUploadRetryTime=ID,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=mE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=mE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new MD(uw());{const f=KD(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const pE="@firebase/storage",gE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="storage";function WD(i=yp(),e){i=Nt(i);const s=zh(i,cw).getImmediate({identifier:e}),o=VE("storage");return o&&ZD(s,...o),s}function ZD(i,e,n,s={}){$D(i,e,n,s)}function JD(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new XD(n,s,o,e,sa)}function eO(){Xs(new Wi(cw,JD,"PUBLIC").setMultipleInstances(!0)),Er(pE,gE,""),Er(pE,gE,"esm2017")}eO();const tO={apiKey:"AIzaSyBgQbcevQJlAKdEVE9S14dmJ7jgsb-7zeU",authDomain:"crowdfunding-platform-firebase.firebaseapp.com",projectId:"crowdfunding-platform-firebase",storageBucket:"crowdfunding-platform-firebase.firebasestorage.app",messagingSenderId:"34269933246",appId:"1:34269933246:web:cba059ca33434bf8e2b8ef"},cg=qE(tO),Ze=hC(cg),tt=oD(cg);WD(cg);Ze.onAuthStateChanged(async i=>{i&&i.email==="admin@startfund.com"&&((await tt.collection("users").doc(i.uid).get()).exists||await tt.collection("users").doc(i.uid).set({email:"admin@startfund.com",role:"admin",createdAt:new Date,displayName:"Admin"}))});const hw=B.createContext(),Co=()=>B.useContext(hw),nO=({children:i})=>{const[e,n]=B.useState(null),[s,o]=B.useState(null),[u,f]=B.useState(!0),[m,p]=B.useState(null);B.useEffect(()=>e1(Ze,async T=>{if(n(T),T)try{const S=await _o(Ut(tt,"users",T.uid));if(S.exists()){const N=S.data();o(N.role),p(N)}else o(null),p(null)}catch(S){console.error("Error fetching user data:",S),o(null),p(null)}else o(null),p(null);f(!1)}),[]);const g={currentUser:e,userRole:s,userData:m,loading:u,isAuthenticated:!!e,isAdmin:s==="admin",isEntrepreneur:s==="entrepreneur",isInvestor:s==="investor"};return v.jsx(hw.Provider,{value:g,children:!u&&i})},Bi=({children:i,requiredRole:e})=>{const{currentUser:n,userRole:s,loading:o}=Co(),u=ci();if(o)return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})});if(!n)return v.jsx(vr,{to:"/login",state:{from:u},replace:!0});if(e&&s!==e)switch(s){case"admin":return v.jsx(vr,{to:"/admin/dashboard",replace:!0});case"entrepreneur":return v.jsx(vr,{to:"/entrepreneur/dashboard",replace:!0});case"investor":return v.jsx(vr,{to:"/investor/dashboard",replace:!0});default:return v.jsx(vr,{to:"/",replace:!0})}return i},Nm=({children:i})=>{const{currentUser:e,userRole:n,loading:s}=Co();if(Jn(),B.useEffect(()=>{if(e){const o=(()=>{switch(n){case"admin":return"/admin/dashboard";case"entrepreneur":return"/entrepreneur/dashboard";case"investor":return"/investor/dashboard";default:return"/"}})();window.history.replaceState(null,"",o)}},[e,n]),s)return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})});if(e)switch(n){case"admin":return v.jsx(vr,{to:"/admin/dashboard",replace:!0});case"entrepreneur":return v.jsx(vr,{to:"/entrepreneur/dashboard",replace:!0});case"investor":return v.jsx(vr,{to:"/investor/dashboard",replace:!0});default:return v.jsx(vr,{to:"/",replace:!0})}return i},rO=()=>{const i=Jn(),{currentUser:e,userRole:n,isAuthenticated:s}=Co(),o=async()=>{try{await t1(Ze),i("/")}catch(u){console.error("Error signing out:",u)}};return v.jsx("nav",{className:"bg-background border-b border-accent/20",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-16",children:[v.jsx("div",{className:"flex items-center",children:v.jsx(st,{to:s?n==="admin"?"/admin/dashboard":n==="entrepreneur"?"/entrepreneur/dashboard":n==="investor"?"/investor/dashboard":"/":"/",className:"text-accent font-bold text-4xl",children:"StartFund"})}),v.jsx("div",{className:"flex items-center space-x-4",children:s?v.jsxs(v.Fragment,{children:[n==="admin"&&v.jsx(st,{to:"/admin/dashboard",className:"text-white hover:text-accent",children:"Admin Dashboard"}),n==="entrepreneur"&&v.jsxs(v.Fragment,{children:[v.jsx(st,{to:"/entrepreneur/dashboard",className:"text-white hover:text-accent",children:"My Dashboard"}),v.jsx(st,{to:"/create-campaign",className:"bg-accent text-black px-4 py-2 rounded hover:bg-accent/90",children:"Create Campaign"})]}),n==="investor"&&v.jsx(st,{to:"/investor/dashboard",className:"text-white hover:text-accent",children:"My Dashboard"}),v.jsx("button",{onClick:o,className:"text-white hover:text-accent",children:"Logout"})]}):v.jsxs(v.Fragment,{children:[v.jsx(st,{to:"/guest",className:"text-white hover:text-accent",children:"Browse Projects"}),v.jsx(st,{to:"/login",className:"text-white hover:text-accent",children:"Login"}),v.jsx(st,{to:"/register",className:"bg-accent text-black px-4 py-2 rounded hover:bg-accent/90",children:"Sign Up"})]})})]})})})},iO=()=>{const[i,e]=B.useState([]),[n,s]=B.useState([]),[o,u]=B.useState(null),[f,m]=B.useState("browse"),[p,g]=B.useState(!0),[E,T]=B.useState(""),[S,N]=B.useState("all");B.useEffect(()=>{(async()=>{try{if(!Ze.currentUser){u("Please login to access the dashboard");return}const J=la(tt,"projects"),W=ta(J,na("approved","==",!0)),ae=(await ra(W)).docs.map(x=>({id:x.id,...x.data()}));e(ae);const me=ta(J,na("createdBy","==",Ze.currentUser.email)),R=(await ra(me)).docs.map(x=>({id:x.id,...x.data()}));s(R),u(null)}catch(J){u("Error fetching projects: "+J.message),e([]),s([])}finally{g(!1)}})()},[]);const P=i.filter(L=>{const J=L.title.toLowerCase().includes(E.toLowerCase())||L.description.toLowerCase().includes(E.toLowerCase()),W=S==="all"||L.category===S;return J&&W}),Q=n.filter(L=>{const J=L.title.toLowerCase().includes(E.toLowerCase())||L.description.toLowerCase().includes(E.toLowerCase()),W=S==="all"||L.category===S;return J&&W});if(p)return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})})});const V=L=>{var J;return v.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-accent/20",children:[L.imageUrl&&v.jsx("img",{src:L.imageUrl,alt:L.title,className:"w-full h-48 object-cover"}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2",children:L.title}),v.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:L.description}),v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("span",{className:"text-accent",children:["Goal: $",L.goal]}),v.jsxs("span",{className:"text-sm text-gray-400",children:["By ",L.createdBy]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(st,{to:`/project/${L.id}`,className:"flex-1 bg-accent text-black text-center py-2 rounded hover:bg-accent/90",children:"View Details"}),L.createdBy===((J=Ze.currentUser)==null?void 0:J.email)&&v.jsx(st,{to:`/post-update/${L.id}`,className:"flex-1 bg-blue-500 text-white text-center py-2 rounded hover:bg-blue-600",children:"Post Update"})]})]})]},L.id)};return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsx("div",{className:"flex justify-between items-center mb-8",children:v.jsx("h1",{className:"text-3xl font-bold",children:"Entrepreneur Dashboard"})}),o&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:o}),v.jsxs("div",{className:"flex gap-4 mb-6",children:[v.jsx("button",{onClick:()=>m("browse"),className:`px-4 py-2 rounded ${f==="browse"?"bg-accent text-black":"bg-gray-700"}`,children:"Browse Projects"}),v.jsx("button",{onClick:()=>m("my-projects"),className:`px-4 py-2 rounded ${f==="my-projects"?"bg-accent text-black":"bg-gray-700"}`,children:"My Projects"})]}),v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("input",{type:"text",placeholder:"Search projects...",className:"flex-1 px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",value:E,onChange:L=>T(L.target.value)}),v.jsxs("select",{className:"px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",value:S,onChange:L=>N(L.target.value),children:[v.jsx("option",{value:"all",children:"All Categories"}),v.jsx("option",{value:"technology",children:"Technology"}),v.jsx("option",{value:"healthcare",children:"Healthcare"}),v.jsx("option",{value:"education",children:"Education"}),v.jsx("option",{value:"sustainability",children:"Sustainability"}),v.jsx("option",{value:"finance",children:"Finance"})]})]}),f==="browse"?v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Browse Projects"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(L=>V(L))}),P.length===0&&v.jsx("p",{className:"text-gray-400 text-center py-8",children:E||S!=="all"?"No projects match your search criteria.":"No projects available at the moment."})]}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"My Projects"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.map(L=>V(L))}),Q.length===0&&v.jsxs("div",{className:"text-center py-8",children:[v.jsx("p",{className:"text-gray-400 mb-4",children:E||S!=="all"?"No projects match your search criteria.":"You haven't created any projects yet."}),!E&&S==="all"&&v.jsx(st,{to:"/create",className:"inline-block bg-accent text-black px-6 py-2 rounded hover:bg-accent/90",children:"Create Your First Project"})]})]})]})})},sO=()=>{const[i,e]=B.useState([]),[n,s]=B.useState(null),[o,u]=B.useState(!0),[f,m]=B.useState(""),[p,g]=B.useState("all");B.useEffect(()=>{(async()=>{try{if(!Ze.currentUser){s("Please login to access the dashboard");return}const S=la(tt,"projects"),N=ta(S,na("approved","==",!0)),Q=(await ra(N)).docs.map(V=>({id:V.id,...V.data()}));e(Q),s(null)}catch(S){s("Error fetching projects: "+S.message),e([])}finally{u(!1)}})()},[]);const E=i.filter(T=>{const S=T.title.toLowerCase().includes(f.toLowerCase())||T.description.toLowerCase().includes(f.toLowerCase()),N=p==="all"||T.category===p;return S&&N});return o?v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})})}):v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Investor Dashboard"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search projects...",className:"px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",value:f,onChange:T=>m(T.target.value)}),v.jsxs("select",{className:"px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",value:p,onChange:T=>g(T.target.value),children:[v.jsx("option",{className:"bg-slate-500",value:"all",children:"All Categories"}),v.jsx("option",{className:"bg-slate-500",value:"technology",children:"Technology"}),v.jsx("option",{className:"bg-slate-500",value:"healthcare",children:"Healthcare"}),v.jsx("option",{className:"bg-slate-500",value:"education",children:"Education"}),v.jsx("option",{className:"bg-slate-500",value:"sustainability",children:"Sustainability"}),v.jsx("option",{className:"bg-slate-500",value:"finance",children:"Finance"})]})]})]}),n&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:n}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(T=>v.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-accent/20",children:[T.imageUrl&&v.jsx("img",{src:T.imageUrl,alt:T.title,className:"w-full h-48 object-cover"}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2",children:T.title}),v.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:T.description}),v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("span",{className:"text-accent",children:["Goal: $",T.goal]}),v.jsxs("span",{className:"text-sm text-gray-400",children:["By ",T.createdBy]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(st,{to:`/project/${T.id}`,className:"block w-full bg-accent text-black text-center py-2 rounded hover:bg-accent/90",children:"View Details"}),v.jsx(st,{to:`/payment/${T.id}`,className:"block w-full bg-green-500 text-white text-center py-2 rounded hover:bg-green-600",children:"Invest Now"})]})]})]},T.id))}),E.length===0&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-400 text-lg",children:f||p!=="all"?"No projects match your search criteria.":"No projects available at the moment."})})]})})},aO=()=>{const[i,e]=B.useState([]),[n,s]=B.useState(null),[o,u]=B.useState(!0);return B.useEffect(()=>{(async()=>{try{const m=la(tt,"projects"),p=ta(m,na("approved","==",!0)),E=(await ra(p)).docs.map(T=>({id:T.id,...T.data()}));e(E),s(null)}catch(m){s("Error fetching projects: "+m.message),e([])}finally{u(!1)}})()},[]),o?v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})})}):v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Featured Projects"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx(st,{to:"/login",className:"bg-accent text-black px-6 py-2 rounded hover:bg-accent/90",children:"Login"}),v.jsx(st,{to:"/register",className:"border border-accent text-accent px-6 py-2 rounded hover:bg-accent/10",children:"Register"})]})]}),n&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:n}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(f=>v.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-accent/20",children:[f.imageUrl&&v.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-full h-48 object-cover"}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2",children:f.title}),v.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2",children:f.description}),v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("span",{className:"text-accent",children:["Goal: $",f.goal]}),v.jsxs("span",{className:"text-sm text-gray-400",children:["By ",f.createdBy]})]}),v.jsx(st,{to:`/project/${f.id}`,className:"block w-full bg-accent text-black text-center py-2 rounded hover:bg-accent/90",children:"View Details"})]})]},f.id))}),i.length===0&&!n&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-400 text-lg",children:"No projects available at the moment."})})]})})},oO=()=>v.jsxs("div",{className:"min-h-screen bg-background text-white flex flex-col items-center justify-center text-center px-6",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to StartupFund"}),v.jsx("p",{className:"mb-8 text-lg max-w-md",children:"A crowdfunding platform for startups. Log in or explore projects as a guest."}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx(st,{to:"/login",className:"bg-accent text-black font-semibold px-6 py-3 rounded hover:opacity-90",children:"Login"}),v.jsx(st,{to:"/guest",className:"border border-accent text-accent px-6 py-3 rounded hover:bg-accent hover:text-black transition",children:"Continue Without Login"})]})]}),lO=()=>{const i=Jn(),[e,n]=B.useState({email:"",password:""}),[s,o]=B.useState(null),[u,f]=B.useState(!1),m=E=>{const{name:T,value:S}=E.target;n(N=>({...N,[T]:S}))},p=async()=>{try{f(!0),o(null);const E=new _r,T=await wb(Ze,E),S=await _o(Ut(tt,"users",T.user.uid));if(!S.exists())await uu(Ut(tt,"users",T.user.uid),{email:T.user.email,role:"investor",createdAt:is(),displayName:T.user.displayName,photoURL:T.user.photoURL}),i("/investor/dashboard");else{const N=S.data();N.role==="admin"?i("/admin/dashboard"):N.role==="entrepreneur"?i("/entrepreneur/dashboard"):N.role==="investor"?i("/investor/dashboard"):i("/")}}catch(E){console.error("Google login error:",E),o(E.message)}finally{f(!1)}},g=async E=>{E.preventDefault(),o(null);try{f(!0);const T=await WI(Ze,e.email,e.password);if(e.email==="admin@startfund.com"){await uu(Ut(tt,"users",T.user.uid),{email:"admin@startfund.com",role:"admin",createdAt:is(),displayName:"Admin"},{merge:!0}),i("/admin/dashboard");return}const S=await _o(Ut(tt,"users",T.user.uid));if(!S.exists())throw new Error("User data not found. Please register first.");const N=S.data();N.role==="admin"?i("/admin/dashboard"):N.role==="entrepreneur"?i("/entrepreneur/dashboard"):N.role==="investor"?i("/investor/dashboard"):i("/")}catch(T){console.error("Login error:",T),T.code==="auth/user-not-found"?o("No account found with this email. Please register first."):T.code==="auth/wrong-password"?o("Incorrect password. Please try again."):o(T.message)}finally{f(!1)}};return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Welcome Back"}),s&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:s}),v.jsxs("form",{onSubmit:g,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:e.email,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),v.jsx("input",{type:"password",name:"password",value:e.password,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsx("button",{type:"submit",disabled:u,className:"w-full bg-accent text-black py-3 rounded hover:bg-accent/90 disabled:opacity-50",children:u?"Signing in...":"Sign In"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-600"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-background text-gray-400",children:"Or continue with"})})]}),v.jsxs("button",{type:"button",onClick:p,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-white text-gray-900 py-3 rounded hover:bg-gray-100 disabled:opacity-50",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),v.jsxs("p",{className:"text-center text-gray-400",children:["Don't have an account?"," ",v.jsx(st,{to:"/register",className:"text-accent hover:underline",children:"Create Account"})]})]})]})})},uO=()=>{const i=Jn(),[e,n]=B.useState({email:"",password:"",confirmPassword:"",role:"",fullName:"",phoneNumber:""}),[s,o]=B.useState(null),[u,f]=B.useState(!1),m=E=>{const{name:T,value:S}=E.target;n(N=>({...N,[T]:S}))},p=async()=>{try{f(!0),o(null);const E=new _r,T=await wb(Ze,E);await uu(Ut(tt,"users",T.user.uid),{email:T.user.email,role:"investor",fullName:T.user.displayName,phoneNumber:"",createdAt:is(),profileCompleted:!1,photoURL:T.user.photoURL}),i("/investor/dashboard")}catch(E){console.error("Google signup error:",E),E.code==="auth/account-exists-with-different-credential"?o("An account already exists with this email. Please login instead."):o(E.message)}finally{f(!1)}},g=async E=>{if(E.preventDefault(),o(null),e.password!==e.confirmPassword){o("Passwords do not match");return}if(e.password.length<6){o("Password must be at least 6 characters long");return}try{f(!0);const T=await XI(Ze,e.email,e.password);await uu(Ut(tt,"users",T.user.uid),{email:e.email,role:e.role,fullName:e.fullName,phoneNumber:e.phoneNumber,createdAt:is(),profileCompleted:!0}),e.role==="entrepreneur"?i("/entrepreneur/dashboard"):e.role==="investor"?i("/investor/dashboard"):i("/")}catch(T){console.error("Registration error:",T),T.code==="auth/email-already-in-use"?o("An account with this email already exists. Please login instead."):T.code==="auth/invalid-email"?o("Please enter a valid email address."):o(T.message)}finally{f(!1)}};return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Create Account"}),s&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:s}),v.jsxs("button",{type:"button",onClick:p,disabled:u,className:"w-full flex items-center justify-center gap-2 bg-white text-gray-900 py-3 rounded hover:bg-gray-100 disabled:opacity-50 mb-6",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-600"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-background text-gray-400",children:"Or sign up with email"})})]}),v.jsxs("form",{onSubmit:g,className:"space-y-6 mt-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),v.jsx("input",{type:"text",name:"fullName",value:e.fullName,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:e.email,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),v.jsx("input",{type:"tel",name:"phoneNumber",value:e.phoneNumber,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),v.jsx("input",{type:"password",name:"password",value:e.password,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0,minLength:6})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),v.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0,minLength:6})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"I want to"}),v.jsxs("select",{name:"role",value:e.role,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0,children:[v.jsx("option",{value:"",disabled:!0,children:"Choose your role"}),v.jsx("option",{value:"investor",children:"Invest in Projects"}),v.jsx("option",{value:"entrepreneur",children:"Create Projects"})]}),v.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select whether you want to invest in projects or create your own project"})]}),v.jsx("button",{type:"submit",disabled:u,className:"w-full bg-accent text-black py-3 rounded hover:bg-accent/90 disabled:opacity-50",children:u?"Creating Account...":"Create Account"}),v.jsxs("p",{className:"text-center text-gray-400",children:["Already have an account?"," ",v.jsx(st,{to:"/login",className:"text-accent hover:underline",children:"Login"})]})]})]})})},cO=()=>{const i=Jn(),[e,n]=B.useState([]),[s,o]=B.useState([]),[u,f]=B.useState(null),[m,p]=B.useState("pending"),[g,E]=B.useState(""),[T,S]=B.useState("all"),[N,P]=B.useState(!1);B.useEffect(()=>{(async()=>{try{if(!Ze.currentUser||Ze.currentUser.email!=="admin@startfund.com"){f("Please login with admin credentials");return}const ae=la(tt,"projects"),me=ta(ae,na("approved","==",!1)),R=(await ra(me)).docs.map(U=>({id:U.id,...U.data()}));n(R);const x=ta(ae,na("approved","==",!0)),j=(await ra(x)).docs.map(U=>({id:U.id,...U.data()}));o(j),f(null)}catch(ae){f("Error fetching projects: "+ae.message),n([]),o([])}})()},[]);const Q=s.filter(re=>{const ae=re.title.toLowerCase().includes(g.toLowerCase())||re.description.toLowerCase().includes(g.toLowerCase())||re.createdBy.toLowerCase().includes(g.toLowerCase()),me=T==="all"||re.category===T,D=!N||re.bookmarked;return ae&&me&&D}),V=async re=>{try{if(!Ze.currentUser||Ze.currentUser.email!=="admin@startfund.com"){f("Only admin can approve projects");return}await cu(Ut(tt,"projects",re),{approved:!0}),n(e.filter(ae=>ae.id!==re)),f(null)}catch(ae){f("Error approving project: "+ae.message)}},L=async re=>{try{if(!Ze.currentUser||Ze.currentUser.email!=="admin@startfund.com"){f("Only admin can reject projects");return}await wD(Ut(tt,"projects",re)),n(e.filter(ae=>ae.id!==re)),f(null)}catch(ae){f("Error rejecting project: "+ae.message)}},J=async re=>{try{const me=!s.find(D=>D.id===re).bookmarked;await cu(Ut(tt,"projects",re),{bookmarked:me}),o(s.map(D=>D.id===re?{...D,bookmarked:me}:D))}catch(ae){f("Error updating bookmark: "+ae.message)}},W=(re,ae=!1)=>v.jsxs("div",{className:"border border-accent p-4 rounded mb-4 bg-white/5",children:[v.jsx("h3",{className:"text-xl font-semibold",children:re.title}),v.jsx("p",{className:"text-gray-300",children:re.description}),v.jsxs("p",{children:[v.jsx("strong",{children:"Created by:"})," ",re.createdBy]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Goal:"})," $",re.goal]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Category:"})," ",re.category]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Status:"})," ",re.status]}),v.jsx("div",{className:"flex gap-2 mt-2",children:ae?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>V(re.id),className:"bg-green-500 text-white px-4 py-1 rounded hover:bg-green-600",children:"Approve"}),v.jsx("button",{onClick:()=>L(re.id),className:"bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600",children:"Reject"})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>J(re.id),className:`px-4 py-1 rounded ${re.bookmarked?"bg-yellow-500 hover:bg-yellow-600":"bg-blue-500 hover:bg-blue-600"} text-white`,children:re.bookmarked?"Bookmarked":"Bookmark"}),v.jsx("button",{onClick:()=>i(`/project/${re.id}`),className:"bg-green-500 text-white px-4 py-1 rounded hover:bg-green-600",children:"View Details"}),v.jsx("button",{onClick:()=>L(re.id),className:"bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600",children:"Delete"})]})})]},re.id);return v.jsxs("div",{className:"p-4 bg-background text-white min-h-screen",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Admin Dashboard"}),u&&v.jsx("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:u}),v.jsxs("div",{className:"flex gap-4 mb-6",children:[v.jsx("button",{onClick:()=>p("pending"),className:`px-4 py-2 rounded ${m==="pending"?"bg-accent text-black":"bg-gray-700"}`,children:"Pending Projects"}),v.jsx("button",{onClick:()=>p("approved"),className:`px-4 py-2 rounded ${m==="approved"?"bg-accent text-black":"bg-gray-700"}`,children:"Browse Projects"})]}),m==="pending"?v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Pending Projects"}),e.length===0?v.jsx("p",{className:"text-gray-400",children:"No pending projects to review."}):e.map(re=>W(re,!0))]}):v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Approved Projects"}),v.jsxs("div",{className:"mb-6 space-y-4",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search projects...",value:g,onChange:re=>E(re.target.value),className:"flex-1 px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent"}),v.jsxs("select",{value:T,onChange:re=>S(re.target.value),className:"px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",children:[v.jsx("option",{value:"all",children:"All Categories"}),v.jsx("option",{value:"technology",children:"Technology"}),v.jsx("option",{value:"healthcare",children:"Healthcare"}),v.jsx("option",{value:"education",children:"Education"}),v.jsx("option",{value:"sustainability",children:"Sustainability"}),v.jsx("option",{value:"finance",children:"Finance"})]}),v.jsx("button",{onClick:()=>P(!N),className:`px-4 py-2 rounded ${N?"bg-yellow-500":"bg-gray-700"} text-white hover:opacity-90`,children:N?"Show All":"Show Bookmarked"})]}),v.jsx("p",{className:"text-sm text-gray-400",children:"Search by project title, description, or creator"})]}),Q.length===0?v.jsx("p",{className:"text-gray-400",children:g||T!=="all"||N?"No projects match your search criteria.":"No approved projects found."}):Q.map(re=>W(re))]})]})},hO=()=>{const{id:i}=cp(),e=Jn(),{currentUser:n,userRole:s}=Co(),[o,u]=B.useState(null),[f,m]=B.useState(null),[p,g]=B.useState(!0),[E,T]=B.useState(""),[S,N]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const L=await _o(Ut(tt,"projects",i));if(!L.exists()){m("Project not found");return}u({id:L.id,...L.data()}),m(null)}catch(L){m("Error fetching project: "+L.message)}finally{g(!1)}})()},[i]);const P=async()=>{if(!Ze.currentUser){e("/login");return}const V=Number(E);if(isNaN(V)||V<=0){m("Please enter a valid investment amount");return}try{m(null),await cu(Ut(tt,"projects",i),{raised:o.raised+V,investors:SD({email:Ze.currentUser.email,amount:V,date:new Date().toISOString()})}),u(L=>({...L,raised:L.raised+V,investors:[...L.investors,{email:Ze.currentUser.email,amount:V,date:new Date().toISOString()}]})),N(!1),T("")}catch(L){m("Error processing investment: "+L.message)}};if(p)return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})})});if(f)return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:f}),v.jsx(st,{to:"/",className:"text-accent hover:underline",children:"Return to Home"})]})});if(!o)return null;const Q=o.raised/o.goal*100;return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("div",{className:"mb-8",children:v.jsx(st,{to:n?s==="admin"?"/admin/dashboard":s==="entrepreneur"?"/entrepreneur/dashboard":s==="investor"?"/investor/dashboard":"/":"/",className:"text-accent hover:underline",children:"← Back to Dashboard"})}),o.imageUrl&&v.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-96 object-cover rounded-lg mb-8"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4",children:o.title}),v.jsx("p",{className:"text-gray-300 mb-6",children:o.description}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Business Plan"}),v.jsx("p",{className:"text-gray-300",children:o.businessPlan})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Team Information"}),v.jsx("p",{className:"text-gray-300",children:o.teamInfo})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Risks and Challenges"}),v.jsx("p",{className:"text-gray-300",children:o.risks})]}),o.videoUrl&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Project Video"}),v.jsx("div",{className:"aspect-w-16 aspect-h-9",children:v.jsx("iframe",{src:o.videoUrl,title:"Project Video",className:"w-full h-full rounded-lg",allowFullScreen:!0})})]})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white/5 p-6 rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Campaign Details"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-400",children:"Goal"}),v.jsxs("p",{className:"text-2xl font-bold",children:["$",o.goal.toLocaleString()]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-400",children:"Raised"}),v.jsxs("p",{className:"text-2xl font-bold",children:["$",o.raised.toLocaleString()]})]}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:v.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:`${Math.min(Q,100)}%`}})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-400",children:"Category"}),v.jsx("p",{className:"capitalize",children:o.category})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-400",children:"Created by"}),v.jsx("p",{children:o.createdBy})]}),Ze.currentUser&&Ze.currentUser.email!==o.createdBy&&v.jsx("button",{onClick:()=>N(!0),className:"w-full bg-accent text-black py-3 rounded hover:bg-accent/90",children:"Invest Now"})]})]}),o.investors&&o.investors.length>0&&v.jsxs("div",{className:"bg-white/5 p-6 rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Investors"}),v.jsx("div",{className:"space-y-2",children:o.investors.slice(-5).map((V,L)=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-300",children:V.email}),v.jsxs("span",{className:"text-accent",children:["$",V.amount]})]},L))})]})]})]}),S&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-background p-6 rounded-lg max-w-md w-full",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Make an Investment"}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Investment Amount (USD)"}),v.jsx("input",{type:"number",value:E,onChange:V=>T(V.target.value),className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",min:"1",placeholder:"Enter amount"})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:P,className:"flex-1 bg-accent text-black py-2 rounded hover:bg-accent/90",children:"Confirm Investment"}),v.jsx("button",{onClick:()=>N(!1),className:"flex-1 bg-gray-700 text-white py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})})]})})},fO=()=>{const i=Jn(),[e,n]=B.useState({title:"",description:"",goal:"",category:"technology",imageUrl:"",videoUrl:"",businessPlan:"",teamInfo:"",risks:""}),[s,o]=B.useState(null),[u,f]=B.useState(!1),m=g=>{const{name:E,value:T}=g.target;n(S=>({...S,[E]:T}))},p=async g=>{if(g.preventDefault(),!Ze.currentUser){o("Please login to create a project");return}try{f(!0),o(null);const E=Ut(tt,"users",Ze.currentUser.uid);await uu(E,{email:Ze.currentUser.email,role:"entrepreneur",createdAt:is()},{merge:!0});const T={...e,goal:Number(e.goal),createdBy:Ze.currentUser.email,creatorId:Ze.currentUser.uid,approved:!1,createdAt:is(),status:"pending",raised:0,investors:[],updates:[]},S=await ow(la(tt,"projects"),T);console.log("Project created with ID:",S.id),i("/entrepreneur/dashboard")}catch(E){console.error("Error creating project:",E),o("Error creating project: "+E.message)}finally{f(!1)}};return v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Create New Campaign"}),s&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:s}),v.jsxs("form",{onSubmit:p,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Title"}),v.jsx("input",{type:"text",name:"title",value:e.title,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),v.jsxs("select",{name:"category",value:e.category,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0,children:[v.jsx("option",{className:"bg-slate-500",value:"technology",children:"Technology"}),v.jsx("option",{className:"bg-slate-500",value:"healthcare",children:"Healthcare"}),v.jsx("option",{className:"bg-slate-500",value:"education",children:"Education"}),v.jsx("option",{className:"bg-slate-500",value:"sustainability",children:"Sustainability"}),v.jsx("option",{className:"bg-slate-500",value:"finance",children:"Finance"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),v.jsx("textarea",{name:"description",value:e.description,onChange:m,rows:4,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Funding Goal (USD)"}),v.jsx("input",{type:"number",name:"goal",value:e.goal,onChange:m,min:"0",className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Image URL"}),v.jsx("input",{type:"url",name:"imageUrl",value:e.imageUrl,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",placeholder:"https://example.com/image.jpg"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Video URL (Optional)"}),v.jsx("input",{type:"url",name:"videoUrl",value:e.videoUrl,onChange:m,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",placeholder:"https://youtube.com/watch?v=..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Plan"}),v.jsx("textarea",{name:"businessPlan",value:e.businessPlan,onChange:m,rows:4,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Team Information"}),v.jsx("textarea",{name:"teamInfo",value:e.teamInfo,onChange:m,rows:3,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Risks and Challenges"}),v.jsx("textarea",{name:"risks",value:e.risks,onChange:m,rows:3,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-accent text-black py-3 rounded hover:bg-accent/90 disabled:opacity-50",children:u?"Creating...":"Create Campaign"}),v.jsx("button",{type:"button",onClick:()=>i("/entrepreneur/dashboard"),className:"flex-1 bg-gray-700 text-white py-3 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})})},dO=()=>{const{projectId:i}=cp(),e=Jn(),{currentUser:n}=Co(),[s,o]=B.useState(null),[u,f]=B.useState(""),[m,p]=B.useState(null),[g,E]=B.useState(!0),[T,S]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const Q=await _o(Ut(tt,"projects",i));Q.exists()?o(Q.data()):p("Project not found")}catch(Q){console.error("Error fetching project:",Q),p("Error fetching project details")}finally{E(!1)}})()},[i]);const N=async P=>{if(P.preventDefault(),p(null),!n){p("Please login to invest");return}const Q=Number(u);if(isNaN(Q)||Q<=0){p("Please enter a valid amount");return}try{S(!0);const V={projectId:i,projectTitle:s.title,investorId:n.uid,investorEmail:n.email,amount:Q,createdAt:is()};await ow(la(tt,"investments"),V);const L=Ut(tt,"projects",i);await cu(L,{raised:s.raised+Q,investors:[...s.investors||[],n.uid]}),e(`/project/${i}`)}catch(V){console.error("Error processing investment:",V),p("Error processing investment: "+V.message)}finally{S(!1)}};return g?v.jsx("div",{className:"min-h-screen bg-background text-white flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})}):m&&!s?v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:m}),v.jsx("button",{onClick:()=>e(-1),className:"w-full bg-accent text-black py-3 rounded hover:bg-accent/90",children:"Go Back"})]})}):v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsxs("h1",{className:"text-3xl font-bold mb-8",children:["Invest in ",s.title]}),m&&v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:m}),v.jsxs("div",{className:"bg-white/5 p-6 rounded-lg mb-6",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h2",{className:"text-lg font-medium mb-2",children:"Project Details"}),v.jsx("p",{className:"text-gray-400",children:s.description})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Funding Goal"}),v.jsxs("p",{className:"text-lg font-medium",children:["$",s.goal.toLocaleString()]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Raised So Far"}),v.jsxs("p",{className:"text-lg font-medium",children:["$",s.raised.toLocaleString()]})]})]}),v.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4",children:v.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:`${Math.min(s.raised/s.goal*100,100)}%`}})})]}),v.jsxs("form",{onSubmit:N,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Investment Amount (USD)"}),v.jsx("input",{type:"number",value:u,onChange:P=>f(P.target.value),min:"1",step:"1",className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{type:"submit",disabled:T,className:"flex-1 bg-accent text-black py-3 rounded hover:bg-accent/90 disabled:opacity-50",children:T?"Processing...":"Invest Now"}),v.jsx("button",{type:"button",onClick:()=>e(-1),className:"flex-1 bg-gray-700 text-white py-3 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})})},mO=()=>{const[i,e]=B.useState([]);return B.useEffect(()=>{(async()=>{const s=ta(la(tt,"projects"),na("approved","==",!0)),u=(await ra(s)).docs.map(f=>({id:f.id,...f.data()}));e(u)})()},[]),v.jsxs("div",{className:"min-h-screen bg-background text-white p-6",children:[v.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Discover Projects"}),v.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map(n=>v.jsxs("div",{className:"bg-white text-black p-4 rounded shadow",children:[v.jsx("h3",{className:"text-xl font-bold",children:n.title}),v.jsx("p",{children:n.description}),v.jsxs("p",{className:"text-sm text-gray-600",children:["By: ",n.createdBy]})]},n.id))})]})},pO=()=>{const{projectId:i}=cp(),e=Jn(),{currentUser:n,userRole:s}=Co(),[o,u]=B.useState(null),[f,m]=B.useState({title:"",description:"",goal:"",category:"technology",imageUrl:"",videoUrl:"",businessPlan:"",teamInfo:"",risks:""}),[p,g]=B.useState(null),[E,T]=B.useState(!0),[S,N]=B.useState(!1);B.useEffect(()=>{(async()=>{try{if(!n||s!=="entrepreneur"){e("/login");return}const L=await _o(Ut(tt,"projects",i));if(!L.exists()){g("Project not found");return}const J=L.data();if(J.createdBy!==n.email){g("You can only update your own projects");return}u(J),m({title:J.title||"",description:J.description||"",goal:J.goal||"",category:J.category||"technology",imageUrl:J.imageUrl||"",videoUrl:J.videoUrl||"",businessPlan:J.businessPlan||"",teamInfo:J.teamInfo||"",risks:J.risks||""}),g(null)}catch(L){console.error("Error fetching project:",L),g("Error fetching project details")}finally{T(!1)}})()},[i,n,s,e]);const P=V=>{const{name:L,value:J}=V.target;m(W=>({...W,[L]:J}))},Q=async V=>{V.preventDefault(),g(null);try{N(!0),await cu(Ut(tt,"projects",i),{...f,goal:Number(f.goal),updatedAt:is(),lastUpdatedBy:n.email}),e(`/project/${i}`)}catch(L){console.error("Error updating project:",L),g("Error updating project: "+L.message)}finally{N(!1)}};return E?v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent"})})}):p?v.jsx("div",{className:"min-h-screen bg-background text-white p-4",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-6",children:p}),v.jsx("button",{onClick:()=>e(-1),className:"w-full bg-accent text-black py-3 rounded hover:bg-accent/90",children:"Go Back"})]})}):v.jsx("div",{className:"min-h-screen bg-background text-white p-6",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Update Project Details"}),v.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Title"}),v.jsx("input",{type:"text",name:"title",value:f.title,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),v.jsx("textarea",{name:"description",value:f.description,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",rows:"4",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Funding Goal (USD)"}),v.jsx("input",{type:"number",name:"goal",value:f.goal,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",min:"1",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),v.jsxs("select",{name:"category",value:f.category,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",required:!0,children:[v.jsx("option",{value:"technology",children:"Technology"}),v.jsx("option",{value:"healthcare",children:"Healthcare"}),v.jsx("option",{value:"education",children:"Education"}),v.jsx("option",{value:"sustainability",children:"Sustainability"}),v.jsx("option",{value:"finance",children:"Finance"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Image URL"}),v.jsx("input",{type:"url",name:"imageUrl",value:f.imageUrl,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",placeholder:"https://example.com/image.jpg"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Video URL"}),v.jsx("input",{type:"url",name:"videoUrl",value:f.videoUrl,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",placeholder:"https://youtube.com/watch?v=..."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Plan"}),v.jsx("textarea",{name:"businessPlan",value:f.businessPlan,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",rows:"4",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Team Information"}),v.jsx("textarea",{name:"teamInfo",value:f.teamInfo,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",rows:"3",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Risks and Challenges"}),v.jsx("textarea",{name:"risks",value:f.risks,onChange:P,className:"w-full px-4 py-2 rounded bg-white/5 border border-accent/20 focus:outline-none focus:border-accent",rows:"3",required:!0})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{type:"submit",disabled:S,className:"flex-1 bg-accent text-black py-3 rounded hover:bg-accent/90 disabled:opacity-50",children:S?"Updating Project...":"Update Project"}),v.jsx("button",{type:"button",onClick:()=>e(-1),className:"flex-1 bg-gray-700 text-white py-3 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})})};function gO(){return v.jsx(nO,{children:v.jsxs(oR,{children:[v.jsx(rO,{}),v.jsxs(jS,{children:[v.jsx(cn,{path:"/",element:v.jsx(oO,{})}),v.jsx(cn,{path:"/login",element:v.jsx(Nm,{children:v.jsx(lO,{})})}),v.jsx(cn,{path:"/register",element:v.jsx(Nm,{children:v.jsx(uO,{})})}),v.jsx(cn,{path:"/guest",element:v.jsx(Nm,{children:v.jsx(aO,{})})}),v.jsx(cn,{path:"/admin/dashboard",element:v.jsx(Bi,{requiredRole:"admin",children:v.jsx(cO,{})})}),v.jsx(cn,{path:"/entrepreneur/dashboard",element:v.jsx(Bi,{requiredRole:"entrepreneur",children:v.jsx(iO,{})})}),v.jsx(cn,{path:"/investor/dashboard",element:v.jsx(Bi,{requiredRole:"investor",children:v.jsx(sO,{})})}),v.jsx(cn,{path:"/create-campaign",element:v.jsx(Bi,{requiredRole:"entrepreneur",children:v.jsx(fO,{})})}),v.jsx(cn,{path:"/project/:id",element:v.jsx(Bi,{children:v.jsx(hO,{})})}),v.jsx(cn,{path:"/post-update/:projectId",element:v.jsx(Bi,{requiredRole:"entrepreneur",children:v.jsx(pO,{})})}),v.jsx(cn,{path:"/payment/:projectId",element:v.jsx(Bi,{requiredRole:"investor",children:v.jsx(dO,{})})}),v.jsx(cn,{path:"/projects",element:v.jsx(Bi,{children:v.jsx(mO,{})})}),v.jsx(cn,{path:"*",element:v.jsx(vr,{to:"/",replace:!0})})]})]})})}QA.createRoot(document.getElementById("root")).render(v.jsx(LA.StrictMode,{children:v.jsx(gO,{})}));
